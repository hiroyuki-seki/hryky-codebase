\hypertarget{string_8h_source}{\section{string.\-h}
}

\begin{DoxyCode}
00001 
00008 \textcolor{preprocessor}{#ifndef STRING\_H\_20120419000213668}
00009 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define STRING\_H\_20120419000213668}
00010 \textcolor{preprocessor}{}\textcolor{preprocessor}{#include "\hyperlink{allocator__heap_8h}{hryky/allocator/allocator_heap.h}"}
00011 \textcolor{preprocessor}{#include "\hyperlink{common_8h}{hryky/common.h}"}
00012 \textcolor{preprocessor}{#include "\hyperlink{iterator__random_8h}{hryky/iterator/iterator_random.h}"}
00013 \textcolor{preprocessor}{#include "\hyperlink{reduction__common_8h}{hryky/reduction/reduction_common.h}"}
00014 \textcolor{preprocessor}{#include "\hyperlink{swap_8h}{hryky/swap.h}"}
00015 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00016 \textcolor{comment}{// macro definition}
00017 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00018 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00019 \textcolor{comment}{// namespace}
00020 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00021 \textcolor{keyword}{namespace }hryky
00022 \{
00024     \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT >
00025     \textcolor{keyword}{class }String;
00026 
00027     \textcolor{keyword}{typedef} std::basic\_string
00028         <char, std::char\_traits<char>, \hyperlink{classhryky_1_1allocator_1_1_heap}{hryky::allocator::Heap<char>} >
00029             string\_type;
00030 
00031 \} \textcolor{comment}{// namespace hryky}
00032 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00033 \textcolor{comment}{// class declarations}
00034 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00041 \textcolor{comment}{}\textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT = \textcolor{keywordtype}{char}, \textcolor{keyword}{typename} AllocatorT = hryky::allocator::Heap<
      CharT> >
\hypertarget{string_8h_source_l00042}{}\hyperlink{classhryky_1_1_string}{00042} \textcolor{keyword}{class }\hyperlink{classhryky_1_1_string}{hryky::String}
00043 \{
00044 \textcolor{keyword}{public} :
00045 
00046     \textcolor{keyword}{typedef} \hyperlink{classhryky_1_1_string}{String<CharT, AllocatorT>} \hyperlink{classhryky_1_1_string}{this_type};
00047     \textcolor{keyword}{typedef} CharT value\_type;
00048     \textcolor{keyword}{typedef} CharT * pointer;
00049     \textcolor{keyword}{typedef} CharT & reference;
00050     \textcolor{keyword}{typedef} CharT \textcolor{keyword}{const} * const\_pointer;
00051     \textcolor{keyword}{typedef} CharT \textcolor{keyword}{const} & const\_reference;
00052     \textcolor{keyword}{typedef} std::size\_t size\_type;
00053     \textcolor{keyword}{typedef} std::ptrdiff\_t difference\_type;
00054     \textcolor{keyword}{typedef} AllocatorT allocator\_type;
00055     \textcolor{keyword}{typedef} \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{hryky::iterator::random::Mutable<this_type>} \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator};
00056     \textcolor{keyword}{typedef} \hyperlink{classhryky_1_1iterator_1_1random_1_1_immutable}{hryky::iterator::random::Immutable<this_type>} \hyperlink{classhryky_1_1iterator_1_1random_1_1_immutable}{const_iterator};
00057     \textcolor{keyword}{typedef} std::reverse\_iterator<iterator> reverse\_iterator;
00058     \textcolor{keyword}{typedef} std::reverse\_iterator<const\_iterator> const\_reverse\_iterator;
00059 
\hypertarget{string_8h_source_l00061}{}\hyperlink{classhryky_1_1_string_ab1308696e8665314373d9aec581a3095}{00061}     \textcolor{keyword}{static} value\_type \hyperlink{classhryky_1_1_string_ab1308696e8665314373d9aec581a3095}{terminator}() \{ \textcolor{keywordflow}{return} this\_type::terminator\_; \}
00062 
\hypertarget{string_8h_source_l00064}{}\hyperlink{classhryky_1_1_string_a63a5477108395a8682a8fd4a03addc43}{00064}     \textcolor{keyword}{static} size\_type \textcolor{keyword}{const} \hyperlink{classhryky_1_1_string_a63a5477108395a8682a8fd4a03addc43}{npos} = \textcolor{keyword}{static\_cast<}size\_type\textcolor{keyword}{>}(-1);
00065 
00067     \hyperlink{classhryky_1_1_string_ad60595ccc01ad3a9c1c32b9c7eb0a115}{String}();
00068 
00070     \hyperlink{classhryky_1_1_string_ad60595ccc01ad3a9c1c32b9c7eb0a115}{String}(\hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} &rhs);
00071 
00073     \hyperlink{classhryky_1_1_string_ad60595ccc01ad3a9c1c32b9c7eb0a115}{String}(\hyperlink{classhryky_1_1_string}{this_type} && rhs);
00074 
00076     \textcolor{keyword}{explicit} \hyperlink{classhryky_1_1_string_ad60595ccc01ad3a9c1c32b9c7eb0a115}{String}(allocator\_type \textcolor{keyword}{const} & allocator);
00077 
00079     \hyperlink{classhryky_1_1_string_ad60595ccc01ad3a9c1c32b9c7eb0a115}{String}(
00080         const\_pointer str,
00081         size\_type str\_size,
00082         allocator\_type allocator = allocator\_type());
00083 
00085     \textcolor{keyword}{explicit} \hyperlink{classhryky_1_1_string_ad60595ccc01ad3a9c1c32b9c7eb0a115}{String}(
00086         const\_pointer str,
00087         allocator\_type allocator = allocator\_type());
00088 
00090     \hyperlink{classhryky_1_1_string_aad9c7884c7afd2b4543b3b90d1c7e0b2}{~String}();
00091 
\hypertarget{string_8h_source_l00093}{}\hyperlink{classhryky_1_1_string_a445f0d882e66842a32e855881278cd64}{00093}     \hyperlink{classhryky_1_1_string_a445f0d882e66842a32e855881278cd64}{hryky_assign_op};
00094 
00096     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a65d2ec00521600df0d838c8b4b4ee61e}{operator=}(const\_pointer \textcolor{keyword}{const} rhs);
00097 
00099     \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t} Size>
00100     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a65d2ec00521600df0d838c8b4b4ee61e}{operator=}(value\_type \textcolor{keyword}{const} (&rhs)[Size]);
00101 
00103     const\_reference \hyperlink{classhryky_1_1_string_ae4170a6bb4266d9185c88560014ca7fe}{operator[]}(size\_type \textcolor{keyword}{const} index) \textcolor{keyword}{const};
00104 
00106     reference \hyperlink{classhryky_1_1_string_ae4170a6bb4266d9185c88560014ca7fe}{operator[]}(size\_type \textcolor{keyword}{const} index);
00107 
00109     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a96d9ab83efd313311b3dc6f659b16027}{operator+=}(\hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & rhs);
00110 
00112     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a96d9ab83efd313311b3dc6f659b16027}{operator+=}(value\_type \textcolor{keyword}{const} rhs);
00113 
00115     \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1_string_a4480f7768eb5a9afce82696513af50e9}{operator==}(\hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & rhs) \textcolor{keyword}{const};
00116 
00121     \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1_string_a4480f7768eb5a9afce82696513af50e9}{operator==}(CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} rhs) \textcolor{keyword}{const};
00122 
00124     \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1_string_aab264bc0bc8f1a6c43d44dfe5ccb2b4f}{operator!=}(\hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & rhs) \textcolor{keyword}{const};
00125 
00130     \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1_string_aab264bc0bc8f1a6c43d44dfe5ccb2b4f}{operator!=}(CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} rhs) \textcolor{keyword}{const};
00131 
00136     \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1_string_a512d05bfbcc25d0946344e5494e05342}{operator<}(\hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & rhs) \textcolor{keyword}{const};
00137 
00142     \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1_string_a512d05bfbcc25d0946344e5494e05342}{operator<}(CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} rhs) \textcolor{keyword}{const};
00143 
00148     \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1_string_a8722fa391d4ee8b119092502840a4146}{operator<=}(\hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & rhs) \textcolor{keyword}{const};
00149 
00154     \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1_string_a8722fa391d4ee8b119092502840a4146}{operator<=}(CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} rhs) \textcolor{keyword}{const};
00155 
00160     \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1_string_af95769666d2ba09ca36310dc1e97de8e}{operator>}(\hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & rhs) \textcolor{keyword}{const};
00161 
00166     \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1_string_af95769666d2ba09ca36310dc1e97de8e}{operator>}(CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} rhs) \textcolor{keyword}{const};
00167 
00172     \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1_string_a60476053dfd6e120ff03cea4b4575af7}{operator>=}(\hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & rhs) \textcolor{keyword}{const};
00173 
00178     \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1_string_a60476053dfd6e120ff03cea4b4575af7}{operator>=}(CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} rhs) \textcolor{keyword}{const};
00179 
00181     \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} \hyperlink{classhryky_1_1_string_a92a226785218c05625b4b7278dcfc2bc}{begin}();
00182 
00184     \hyperlink{classhryky_1_1iterator_1_1random_1_1_immutable}{const_iterator} \hyperlink{classhryky_1_1_string_a92a226785218c05625b4b7278dcfc2bc}{begin}() \textcolor{keyword}{const};
00185 
00187     \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} \hyperlink{classhryky_1_1_string_a2830c2985a440d5cb2ab58d81d7ec941}{end}();
00188 
00190     \hyperlink{classhryky_1_1iterator_1_1random_1_1_immutable}{const_iterator} \hyperlink{classhryky_1_1_string_a2830c2985a440d5cb2ab58d81d7ec941}{end}() \textcolor{keyword}{const};
00191 
00193     reverse\_iterator \hyperlink{classhryky_1_1_string_a75e1d03284fd701283768e1b5230110c}{rbegin}();
00194 
00196     const\_reverse\_iterator \hyperlink{classhryky_1_1_string_a75e1d03284fd701283768e1b5230110c}{rbegin}() \textcolor{keyword}{const};
00197 
00199     reverse\_iterator \hyperlink{classhryky_1_1_string_a644a4328ebf32a38022c10c7dc02bee5}{rend}();
00200 
00202     const\_reverse\_iterator \hyperlink{classhryky_1_1_string_a644a4328ebf32a38022c10c7dc02bee5}{rend}() \textcolor{keyword}{const};
00203 
00205     size\_type \hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size}() \textcolor{keyword}{const};
00206 
00208     size\_type \hyperlink{classhryky_1_1_string_a908a0c14b8c8af6123da3508f3e5d1ce}{length}() \textcolor{keyword}{const};
00209 
00211     size\_type \hyperlink{classhryky_1_1_string_aafb6d82457bc1b598e6fb60dee15d562}{max_size}() \textcolor{keyword}{const};
00212 
00214     \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1_string_ae2a52a7868534d2a48fd01db2ea35c1a}{resize}(size\_type \textcolor{keyword}{const} \hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size});
00215 
00220     size\_type \hyperlink{classhryky_1_1_string_afe570a5245b8ae9fb91ab0aebecc5b5a}{capacity}() \textcolor{keyword}{const};
00221 
00223     \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1_string_aae6ce7131e8bb4c2cf03689a6a183b8d}{reserve}(size\_type \textcolor{keyword}{const} \hyperlink{classhryky_1_1_string_afe570a5245b8ae9fb91ab0aebecc5b5a}{capacity});
00224 
00226     \textcolor{keywordtype}{void} \hyperlink{classhryky_1_1_string_aeb2e094c044bcfc83c814e1610a98e70}{clear}();
00227 
00229     \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1_string_aff01fafe438f65219695edae5459ed31}{empty}() \textcolor{keyword}{const};
00230 
00232     const\_reference \hyperlink{classhryky_1_1_string_a94674af895596884bb7f365e922afb9d}{at}(size\_type \textcolor{keyword}{const} index) \textcolor{keyword}{const};
00233 
00235     reference \hyperlink{classhryky_1_1_string_a94674af895596884bb7f365e922afb9d}{at}(size\_type \textcolor{keyword}{const} index);
00236 
00238     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a7b717e6b7a107d6fdc7c0371fa71fcb8}{append}(\hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & src);
00239 
00241     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a7b717e6b7a107d6fdc7c0371fa71fcb8}{append}(\hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & str, size\_type offset, size\_type \hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size})
      ;
00242 
00244     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a7b717e6b7a107d6fdc7c0371fa71fcb8}{append}(const\_pointer str, size\_type str\_size);
00245 
00247     \textcolor{keyword}{template} < \textcolor{keyword}{typename} InputIterator >
00248     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a7b717e6b7a107d6fdc7c0371fa71fcb8}{append}(InputIterator first, InputIterator last);
00249 
00251     \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1_string_a0e5eea4617e8a71510a1e34958b0d189}{push_back}(value\_type \textcolor{keyword}{const} value);
00252 
00254     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a7bf5bd2385beb66a4d7d034eae00b9b1}{assign}(\hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & str);
00255 
00257     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a7bf5bd2385beb66a4d7d034eae00b9b1}{assign}(\hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & str, size\_type pos, size\_type \hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size});
00258 
00260     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a7bf5bd2385beb66a4d7d034eae00b9b1}{assign}(const\_pointer str, size\_type \hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size});
00261 
00263     \textcolor{keyword}{template} < \textcolor{keyword}{typename} InputIterator >
00264     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a7bf5bd2385beb66a4d7d034eae00b9b1}{assign}(InputIterator first, InputIterator last);
00265 
00267     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a9895ebf2c4792fc2636caf5c6a9b31c3}{insert}(size\_type pos, \hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & str);
00268 
00270     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a9895ebf2c4792fc2636caf5c6a9b31c3}{insert}(
00271         size\_type dest\_pos, \hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & str, size\_type src\_pos, size\_type
       src\_size);
00272 
00274     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a9895ebf2c4792fc2636caf5c6a9b31c3}{insert}(
00275         size\_type pos, const\_pointer str, size\_type \hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size});
00276 
00278     \textcolor{keyword}{template} < \textcolor{keyword}{typename} InputIterator >
00279     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a9895ebf2c4792fc2636caf5c6a9b31c3}{insert}(
00280         \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} dest\_itr, InputIterator first, InputIterator last);
00281 
00283     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a9895ebf2c4792fc2636caf5c6a9b31c3}{insert}(\hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} itr, value\_type \textcolor{keyword}{const} value);
00284 
00286     \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} \hyperlink{classhryky_1_1_string_ab45f3fadb1ffe1fc9fdd1de9e3c87df9}{erase}(\hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} itr);
00287 
00289     \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} \hyperlink{classhryky_1_1_string_ab45f3fadb1ffe1fc9fdd1de9e3c87df9}{erase}(\hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} first, \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} last);
00290 
00292     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a09705c9ae9b2a6eb030421830be1a6ad}{replace}(size\_type dest\_pos, size\_type dest\_size, \hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{
      const} & src);
00293 
00295     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a09705c9ae9b2a6eb030421830be1a6ad}{replace}(\hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} dest\_first, \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} dest\_last, \hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{
      const} & src);
00296 
00298     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a09705c9ae9b2a6eb030421830be1a6ad}{replace}(
00299         size\_type dest\_pos,
00300         size\_type dest\_size,
00301         \hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & src,
00302         size\_type src\_pos,
00303         size\_type src\_size);
00304 
00306     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a09705c9ae9b2a6eb030421830be1a6ad}{replace}(
00307         size\_type dest\_pos,
00308         size\_type dest\_size,
00309         const\_pointer src,
00310         size\_type src\_size);
00311 
00313     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a09705c9ae9b2a6eb030421830be1a6ad}{replace}(
00314         \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} dest\_first,
00315         \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} dest\_last,
00316         const\_pointer src,
00317         size\_type src\_size);
00318 
00320     \textcolor{keyword}{template} < \textcolor{keyword}{typename} InputIterator >
00321     \hyperlink{classhryky_1_1_string}{this_type} & \hyperlink{classhryky_1_1_string_a09705c9ae9b2a6eb030421830be1a6ad}{replace}(
00322         \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} dest\_first,
00323         \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} dest\_last,
00324         InputIterator src\_first,
00325         InputIterator src\_last);
00326 
00328     \textcolor{keywordtype}{void} \hyperlink{classhryky_1_1_string_a5ff47f11c86f2cf71e7e2d1427c1474b}{swap}(\hyperlink{classhryky_1_1_string}{this_type} & src);
00329 
00331     const\_pointer \hyperlink{classhryky_1_1_string_a6cbb3af33227054fa85010603cbfa430}{c_str}() \textcolor{keyword}{const};
00332 
00334     const\_pointer \hyperlink{classhryky_1_1_string_af61f2a74347fabebd76f9fa810341724}{data}() \textcolor{keyword}{const};
00335 
00337     allocator\_type \hyperlink{classhryky_1_1_string_a710ee15ff97ece02e764e0be568522bc}{get_allocator}() \textcolor{keyword}{const};
00338 
00340     \hyperlink{classhryky_1_1_intrusive_ptr}{reduction_type} \hyperlink{classhryky_1_1_string_a03adae56f3604b70e4cf17c8473c667a}{reduce}(\hyperlink{classhryky_1_1reduction_1_1_string}{reduction::name_type} \textcolor{keyword}{const} & name) \textcolor{keyword}{const};
00341 
00343     \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
00344     StreamT & \hyperlink{classhryky_1_1_string_a5632cb3b6a55de35a0d2c03ddbe8f75e}{write_to}(StreamT & stream) \textcolor{keyword}{const};
00345 
00346 \textcolor{keyword}{protected} :
00347 
00348 \textcolor{keyword}{private} :
00349 
00350     \textcolor{keyword}{static} value\_type \textcolor{keyword}{const} terminator\_ = value\_type();
00351 
00352     \textcolor{keyword}{typedef} pointer buffer\_type;
00353 
00354     allocator\_type  allocator\_;
00355     buffer\_type     buffer\_;
00356     size\_type       capacity\_;
00357     size\_type       size\_;
00358 
00359 \};
00360 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00361 \textcolor{comment}{// class specializations}
00362 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00363 \textcolor{keyword}{namespace }hryky
00364 \{
00365 \}
00366 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00367 \textcolor{comment}{// public member functions}
00368 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00372 \textcolor{comment}{}\textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l00373}{}\hyperlink{classhryky_1_1_string_ad60595ccc01ad3a9c1c32b9c7eb0a115}{00373} \hyperlink{classhryky_1_1_string_ad60595ccc01ad3a9c1c32b9c7eb0a115}{hryky::String<CharT, AllocatorT>::String}()
00374     : allocator\_(), buffer\_(), capacity\_(), size\_()
00375 \{
00376 \}
00380 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l00381}{}\hyperlink{classhryky_1_1_string_a5f2897c6c0c4c57fdb7f7d46fdc89817}{00381} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::String}(\hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} &rhs)
00382     : allocator\_(rhs.allocator\_)
00383       , buffer\_()
00384       , capacity\_()
00385       , size\_()
00386 \{
00387     \textcolor{keywordflow}{if} (rhs.\hyperlink{classhryky_1_1_string_aff01fafe438f65219695edae5459ed31}{empty}()) \{ \textcolor{keywordflow}{return}; \}
00388     
00389     \textcolor{keywordflow}{if} (!this->\hyperlink{classhryky_1_1_string_aae6ce7131e8bb4c2cf03689a6a183b8d}{reserve}(rhs.\hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size}())) \{ \textcolor{keywordflow}{return}; \}
00390 
00391     std::memcpy(this->buffer\_, rhs.buffer\_, \textcolor{keyword}{sizeof}(value\_type) * rhs.\hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size}());
00392 
00393     this->size\_ = rhs.\hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size}();
00394     this->buffer\_[this->size\_] = \hyperlink{classhryky_1_1_string_ab1308696e8665314373d9aec581a3095}{terminator}();
00395 \}
00399 \textcolor{keyword}{template} <\textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l00400}{}\hyperlink{classhryky_1_1_string_af752573e708f1a541385d376f4a6729e}{00400} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::String}(\hyperlink{classhryky_1_1_string}{this_type} && rhs)
00401     : allocator\_(), buffer\_(), capacity\_(), size\_()
00402 \{
00403     this->\hyperlink{classhryky_1_1_string_a5ff47f11c86f2cf71e7e2d1427c1474b}{swap}(rhs);
00404 \}
00408 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l00409}{}\hyperlink{classhryky_1_1_string_a152a6a4ba727611a34dbeae7538fc0eb}{00409} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::String}(allocator\_type \textcolor{keyword}{const} & allocator)
00410     : allocator\_(allocator)
00411       , buffer\_()
00412       , capacity\_()
00413       , size\_()
00414 \{
00415 \}
00419 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l00420}{}\hyperlink{classhryky_1_1_string_a4b0a859218ad9a38373e75279d0509ed}{00420} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::String}(
00421     const\_pointer str, size\_type str\_size, allocator\_type allocator)
00422     : allocator\_(allocator)
00423       , buffer\_()
00424       , capacity\_()
00425       , size\_()
00426 \{
00427     \textcolor{keywordflow}{if} (0 == str\_size) \{ \textcolor{keywordflow}{return}; \}
00428     
00429     \textcolor{keywordflow}{if} (!this->\hyperlink{classhryky_1_1_string_aae6ce7131e8bb4c2cf03689a6a183b8d}{reserve}(str\_size)) \{ \textcolor{keywordflow}{return}; \}
00430 
00431     \textcolor{keywordflow}{if} (0 < str\_size) \{
00432         std::memcpy(this->buffer\_, str, \textcolor{keyword}{sizeof}(value\_type) * str\_size);
00433     \}
00434     this->size\_ = str\_size;
00435     this->buffer\_[this->size\_] = \hyperlink{classhryky_1_1_string_ab1308696e8665314373d9aec581a3095}{terminator}();
00436 \}
00440 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l00441}{}\hyperlink{classhryky_1_1_string_a6b69d30c7062d8f4fff138f6ad85150d}{00441} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::String}(
00442     const\_pointer str, allocator\_type allocator)
00443     : allocator\_(allocator)
00444       , buffer\_()
00445       , capacity\_()
00446       , size\_()
00447 \{
00448     \textcolor{keywordtype}{size\_t} \textcolor{keyword}{const} str\_size = strlen(str);
00449     
00450     \textcolor{keywordflow}{if} (0 == str\_size) \{ \textcolor{keywordflow}{return}; \}
00451     
00452     \textcolor{keywordflow}{if} (!this->\hyperlink{classhryky_1_1_string_aae6ce7131e8bb4c2cf03689a6a183b8d}{reserve}(str\_size)) \{ \textcolor{keywordflow}{return}; \}
00453 
00454     \textcolor{keywordflow}{if} (0 < str\_size) \{
00455         std::memcpy(this->buffer\_, str, \textcolor{keyword}{sizeof}(value\_type) * str\_size);
00456     \}
00457     this->size\_ = str\_size;
00458     this->buffer\_[this->size\_] = \hyperlink{classhryky_1_1_string_ab1308696e8665314373d9aec581a3095}{terminator}();
00459 \}
00463 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l00464}{}\hyperlink{classhryky_1_1_string_aad9c7884c7afd2b4543b3b90d1c7e0b2}{00464} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::~String}()
00465 \{
00466     \textcolor{keywordflow}{if} (\hyperlink{common_8h_a4cd4ac09cfcdbd6b30ee69afc156e210}{HRYKY_NULLPTR} == this->buffer\_) \{ \textcolor{keywordflow}{return}; \}
00467 
00468     this->allocator\_.deallocate(this->buffer\_, this->capacity\_ + 1);
00469     this->buffer\_ = \hyperlink{common_8h_a4cd4ac09cfcdbd6b30ee69afc156e210}{HRYKY_NULLPTR};
00470     this->capacity\_ = 0;
00471     this->size\_ = 0;
00472 \}
00476 \textcolor{keyword}{template} <\textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00477 \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>} &
\hypertarget{string_8h_source_l00478}{}\hyperlink{classhryky_1_1_string_a65d2ec00521600df0d838c8b4b4ee61e}{00478} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::operator=}(
00479     const\_pointer \textcolor{keyword}{const} rhs)
00480 \{
00481     \textcolor{keywordflow}{return} this->assign(rhs, strlen(rhs));
00482 \}
00486 \textcolor{keyword}{template} <\textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00487 \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t} Size>
00488 \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>} &
\hypertarget{string_8h_source_l00489}{}\hyperlink{classhryky_1_1_string_a29ae518048a170155f5addfd6c47b2ed}{00489} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::operator=}(value\_type \textcolor{keyword}{const} (&rhs)[Size])
00490 \{
00491     \textcolor{keywordflow}{return} this->assign(rhs, Size);
00492 \}
00496 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00497 \textcolor{keyword}{typename} hryky::String<CharT, AllocatorT>::const\_reference
\hypertarget{string_8h_source_l00498}{}\hyperlink{classhryky_1_1_string_ae4170a6bb4266d9185c88560014ca7fe}{00498} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::operator[]}(size\_type \textcolor{keyword}{const} index)\textcolor{keyword}{ const}
00499 \textcolor{keyword}{}\{
00500     \textcolor{keywordflow}{return} this->buffer\_[index];
00501 \}
00505 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00506 \textcolor{keyword}{typename} hryky::String<CharT, AllocatorT>::reference
\hypertarget{string_8h_source_l00507}{}\hyperlink{classhryky_1_1_string_a069059a9fefbffa776be63db1594561b}{00507} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::operator[]}(size\_type \textcolor{keyword}{const} index)
00508 \{
00509     \textcolor{keywordflow}{return} this->buffer\_[index];
00510 \}
00514 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00515 \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>} &
\hypertarget{string_8h_source_l00516}{}\hyperlink{classhryky_1_1_string_a96d9ab83efd313311b3dc6f659b16027}{00516} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::operator+=}(\hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & rhs)
00517 \{
00518     \textcolor{keywordflow}{return} this->append(rhs);
00519 \}
00523 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00524 \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>} &
\hypertarget{string_8h_source_l00525}{}\hyperlink{classhryky_1_1_string_ad08fc0721b2e71f6e843a638569d8f93}{00525} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::operator+=}(value\_type \textcolor{keyword}{const} rhs)
00526 \{
00527     this->push\_back(rhs);
00528 
00529     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00530 \}
00534 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l00535}{}\hyperlink{classhryky_1_1_string_a4480f7768eb5a9afce82696513af50e9}{00535} \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_a96bfe0df0a09db56e7253330de4f2243}{hryky::String<CharT, AllocatorT>::operator==}(
00536     \hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & rhs)\textcolor{keyword}{ const}
00537 \textcolor{keyword}{}\{
00538     size\_type \textcolor{keyword}{const} lhs\_size = this->size();
00539     
00540     \textcolor{keywordflow}{if} (lhs\_size != rhs.\hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size}()) \{
00541         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00542     \}
00543     
00544     \textcolor{keywordflow}{return} 0 == std::memcmp(
00545         this->buffer\_, rhs.buffer\_, \textcolor{keyword}{sizeof}(CharT) * lhs\_size);
00546 \}
00551 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l00552}{}\hyperlink{classhryky_1_1_string_a48283b80979ce1e09ac69f915ac4209f}{00552} \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_a96bfe0df0a09db56e7253330de4f2243}{hryky::String<CharT, AllocatorT>::operator==}(
00553     CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} rhs)\textcolor{keyword}{ const}
00554 \textcolor{keyword}{}\{
00555     size\_type \textcolor{keyword}{const} lhs\_size = this->size();
00556     
00557     \textcolor{keywordflow}{return} 0 == std::memcmp(this->buffer\_, rhs, \textcolor{keyword}{sizeof}(CharT) * lhs\_size)
00558         && terminator() == rhs[lhs\_size];
00559 \}
00563 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l00564}{}\hyperlink{classhryky_1_1_string_aab264bc0bc8f1a6c43d44dfe5ccb2b4f}{00564} \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_af83d27d9a54004f5981499e910bb7cb8}{hryky::String<CharT, AllocatorT>::operator!=}(
00565     \hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & rhs)\textcolor{keyword}{ const}
00566 \textcolor{keyword}{}\{
00567     \textcolor{keywordflow}{return} !((*this) == rhs);
00568 \}
00573 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l00574}{}\hyperlink{classhryky_1_1_string_a5275fd7f49fe5ee0e36e06b9caf37295}{00574} \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_af83d27d9a54004f5981499e910bb7cb8}{hryky::String<CharT, AllocatorT>::operator!=}(
00575     CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} rhs)\textcolor{keyword}{ const}
00576 \textcolor{keyword}{}\{
00577     \textcolor{keywordflow}{return} !((*this) == rhs);
00578 \}
00583 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l00584}{}\hyperlink{classhryky_1_1_string_a512d05bfbcc25d0946344e5494e05342}{00584} \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_a7db2acd798ff6883387f9cbe3b3e820d}{hryky::String<CharT, AllocatorT>::operator<}(
00585     \hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & rhs)\textcolor{keyword}{ const}
00586 \textcolor{keyword}{}\{
00587     size\_type \textcolor{keyword}{const} lhs\_size = this->size();
00588     size\_type \textcolor{keyword}{const} rhs\_size = rhs.\hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size}();
00589     \textcolor{keywordflow}{if} (lhs\_size < rhs\_size) \{
00590         \textcolor{keywordflow}{return} 0 <= std::memcmp(
00591             this->buffer\_, rhs.buffer\_, \textcolor{keyword}{sizeof}(CharT) * lhs\_size);
00592     \}
00593     \textcolor{keywordflow}{else} \{
00594         \textcolor{keywordflow}{return} 0 < std::memcmp(
00595             this->buffer\_, rhs.buffer\_, \textcolor{keyword}{sizeof}(charT) * rhs\_size);
00596     \}
00597 \}
00602 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l00603}{}\hyperlink{classhryky_1_1_string_a7e287629be7b7f2e7e5228ca388c5f13}{00603} \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_a7db2acd798ff6883387f9cbe3b3e820d}{hryky::String<CharT, AllocatorT>::operator<}(
00604     CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} rhs)\textcolor{keyword}{ const}
00605 \textcolor{keyword}{}\{
00606     size\_type \textcolor{keyword}{const} lhs\_size = this->size();
00607     
00608     \textcolor{keywordtype}{int} \textcolor{keyword}{const} result = std::memcmp(
00609         this->buffer\_, rhs, \textcolor{keyword}{sizeof}(CharT) * lhs\_size);
00610     \textcolor{keywordflow}{if} (0 < result) \{
00611         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00612     \}
00613     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (0 == result && terminator() != rhs[lhs\_size]) \{
00614         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00615     \}
00616     
00617     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00618 \}
00623 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l00624}{}\hyperlink{classhryky_1_1_string_a8722fa391d4ee8b119092502840a4146}{00624} \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_a3841c4dbefd9eeed038376b3044dec2b}{hryky::String<CharT, AllocatorT>::operator<=}(
00625     \hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & rhs)\textcolor{keyword}{ const}
00626 \textcolor{keyword}{}\{
00627     size\_type \textcolor{keyword}{const} lhs\_size = this->size();
00628     size\_type \textcolor{keyword}{const} rhs\_size = rhs.\hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size}();
00629     \textcolor{keywordflow}{if} (lhs\_size <= rhs\_size) \{
00630         \textcolor{keywordflow}{return} 0 <= std::memcmp(
00631             this->buffer\_, rhs.buffer\_, \textcolor{keyword}{sizeof}(CharT) * lhs\_size);
00632     \}
00633     \textcolor{keywordflow}{else} \{
00634         \textcolor{keywordflow}{return} 0 < std::memcmp(
00635             this->buffer\_, rhs.buffer\_, \textcolor{keyword}{sizeof}(charT) * rhs\_size);
00636     \}
00637 \}
00642 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l00643}{}\hyperlink{classhryky_1_1_string_ac358d7f8d06264f161ecd3d5c5a4b154}{00643} \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_a3841c4dbefd9eeed038376b3044dec2b}{hryky::String<CharT, AllocatorT>::operator<=}(
00644     CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} rhs)\textcolor{keyword}{ const}
00645 \textcolor{keyword}{}\{
00646     size\_type \textcolor{keyword}{const} lhs\_size = this->size();
00647     
00648     \textcolor{keywordflow}{return} 0 <= std::memcmp(
00649         this->buffer\_, rhs, \textcolor{keyword}{sizeof}(CharT) * lhs\_size);
00650 \}
00655 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l00656}{}\hyperlink{classhryky_1_1_string_af95769666d2ba09ca36310dc1e97de8e}{00656} \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_af7f213d8e2d7f4c75ac2c93d7be56365}{hryky::String<CharT, AllocatorT>::operator>}(
00657     \hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & rhs)\textcolor{keyword}{ const}
00658 \textcolor{keyword}{}\{
00659     \textcolor{keywordflow}{return} !((*this) <= rhs);
00660 \}
00665 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l00666}{}\hyperlink{classhryky_1_1_string_a7f2c88da9ad92fa5fcc3cdaa4f26d4d7}{00666} \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_af7f213d8e2d7f4c75ac2c93d7be56365}{hryky::String<CharT, AllocatorT>::operator>}(
00667     CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} rhs)\textcolor{keyword}{ const}
00668 \textcolor{keyword}{}\{
00669     \textcolor{keywordflow}{return} !((*this) <= rhs);
00670 \}
00675 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l00676}{}\hyperlink{classhryky_1_1_string_a60476053dfd6e120ff03cea4b4575af7}{00676} \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_acc487ba69503ce030df6f4b9db4cbe8b}{hryky::String<CharT, AllocatorT>::operator>=}(
00677     \hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & rhs)\textcolor{keyword}{ const}
00678 \textcolor{keyword}{}\{
00679     \textcolor{keywordflow}{return} !((*this) < rhs);
00680 \}
00685 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l00686}{}\hyperlink{classhryky_1_1_string_af179712fb033e3cc1f0699d8ec4abed5}{00686} \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_acc487ba69503ce030df6f4b9db4cbe8b}{hryky::String<CharT, AllocatorT>::operator>=}(
00687     CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} rhs)\textcolor{keyword}{ const}
00688 \textcolor{keyword}{}\{
00689     \textcolor{keywordflow}{return} !((*this) < rhs);
00690 \}
00694 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00695 \textcolor{keyword}{typename} \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{hryky::String<CharT, AllocatorT>::iterator}
\hypertarget{string_8h_source_l00696}{}\hyperlink{classhryky_1_1_string_a92a226785218c05625b4b7278dcfc2bc}{00696} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::begin}()
00697 \{
00698     \textcolor{keywordflow}{return} \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator}(\textcolor{keyword}{this}, 0);
00699 \}
00703 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00704 \textcolor{keyword}{typename} \hyperlink{classhryky_1_1iterator_1_1random_1_1_immutable}{hryky::String<CharT, AllocatorT>::const_iterator}
\hypertarget{string_8h_source_l00705}{}\hyperlink{classhryky_1_1_string_a7f2317d6159493bd53dfeacaaa681022}{00705} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::begin}()\textcolor{keyword}{ const}
00706 \textcolor{keyword}{}\{
00707     \textcolor{keywordflow}{return} \hyperlink{classhryky_1_1iterator_1_1random_1_1_immutable}{const_iterator}(\textcolor{keyword}{this}, 0);
00708 \}
00712 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00713 \textcolor{keyword}{typename} \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{hryky::String<CharT, AllocatorT>::iterator}
\hypertarget{string_8h_source_l00714}{}\hyperlink{classhryky_1_1_string_a2830c2985a440d5cb2ab58d81d7ec941}{00714} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::end}()
00715 \{
00716     \textcolor{keywordflow}{return} \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator}(\textcolor{keyword}{this}, this->size\_);
00717 \}
00721 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00722 \textcolor{keyword}{typename} \hyperlink{classhryky_1_1iterator_1_1random_1_1_immutable}{hryky::String<CharT, AllocatorT>::const_iterator}
\hypertarget{string_8h_source_l00723}{}\hyperlink{classhryky_1_1_string_aeb43f91d3bb9badde257256d7c84e155}{00723} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::end}()\textcolor{keyword}{ const}
00724 \textcolor{keyword}{}\{
00725     \textcolor{keywordflow}{return} \hyperlink{classhryky_1_1iterator_1_1random_1_1_immutable}{const_iterator}(\textcolor{keyword}{this}, this->size\_);
00726 \}
00730 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00731 \textcolor{keyword}{typename} hryky::String<CharT, AllocatorT>::reverse\_iterator
\hypertarget{string_8h_source_l00732}{}\hyperlink{classhryky_1_1_string_a75e1d03284fd701283768e1b5230110c}{00732} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::rbegin}()
00733 \{
00734     \textcolor{keywordflow}{return} reverse\_iterator(this->end());
00735 \}
00739 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00740 \textcolor{keyword}{typename} hryky::String<CharT, AllocatorT>::const\_reverse\_iterator
\hypertarget{string_8h_source_l00741}{}\hyperlink{classhryky_1_1_string_abb559a42c1e0a454222fd4d9be47b5da}{00741} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::rbegin}()\textcolor{keyword}{ const}
00742 \textcolor{keyword}{}\{
00743     \textcolor{keywordflow}{return} reverse\_iterator(this->end());
00744 \}
00748 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00749 \textcolor{keyword}{typename} hryky::String<CharT, AllocatorT>::reverse\_iterator
\hypertarget{string_8h_source_l00750}{}\hyperlink{classhryky_1_1_string_a644a4328ebf32a38022c10c7dc02bee5}{00750} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::rend}()
00751 \{
00752     \textcolor{keywordflow}{return} reverse\_iterator(this->begin());
00753 \}
00757 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00758 \textcolor{keyword}{typename} hryky::String<CharT, AllocatorT>::const\_reverse\_iterator
\hypertarget{string_8h_source_l00759}{}\hyperlink{classhryky_1_1_string_a56ea9c056ff22effb3a3f882310be9f0}{00759} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::rend}()\textcolor{keyword}{ const}
00760 \textcolor{keyword}{}\{
00761     \textcolor{keywordflow}{return} reverse\_iterator(this->begin());
00762 \}
00766 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00767 \textcolor{keyword}{typename} hryky::String<CharT, AllocatorT>::size\_type
\hypertarget{string_8h_source_l00768}{}\hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{00768} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::size}()\textcolor{keyword}{ const}
00769 \textcolor{keyword}{}\{
00770     \textcolor{keywordflow}{return} this->size\_;
00771 \}
00775 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00776 \textcolor{keyword}{typename} hryky::String<CharT, AllocatorT>::size\_type
\hypertarget{string_8h_source_l00777}{}\hyperlink{classhryky_1_1_string_a908a0c14b8c8af6123da3508f3e5d1ce}{00777} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::length}()\textcolor{keyword}{ const}
00778 \textcolor{keyword}{}\{
00779     \textcolor{keywordflow}{return} this->size\_;
00780 \}
00784 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00785 \textcolor{keyword}{typename} hryky::String<CharT, AllocatorT>::size\_type
\hypertarget{string_8h_source_l00786}{}\hyperlink{classhryky_1_1_string_aafb6d82457bc1b598e6fb60dee15d562}{00786} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::max_size}()\textcolor{keyword}{ const}
00787 \textcolor{keyword}{}\{
00788     size\_type \textcolor{keyword}{const} buffer\_max\_size = this->allocator\_.\hyperlink{classhryky_1_1_string_aafb6d82457bc1b598e6fb60dee15d562}{max_size}();
00789     \textcolor{keywordflow}{return} 0 == buffer\_max\_size ? 0 : buffer\_max\_size - 1;
00790 \}
00794 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00795 \textcolor{keywordtype}{bool}
\hypertarget{string_8h_source_l00796}{}\hyperlink{classhryky_1_1_string_ae2a52a7868534d2a48fd01db2ea35c1a}{00796} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::resize}(size\_type \textcolor{keyword}{const} size)
00797 \{
00798     \textcolor{keywordflow}{if} (size == this->size\_) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \}
00799 
00800     \textcolor{keywordflow}{if} (size > this->size\_) \{
00801         \textcolor{keywordflow}{if} (!this->reserve(size)) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}
00802         \hyperlink{namespacehryky_a50f9095eab4dc96e5fa813f8fc8fba7e}{memset}(&this->buffer\_[this->size\_], 0x00u, \textcolor{keyword}{sizeof}(value\_type) * size);
00803     \}
00804     
00805     this->size\_ = size;
00806     this->buffer\_[this->size\_] = terminator();
00807     
00808     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00809 \}
00814 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00815 \textcolor{keyword}{typename} hryky::String<CharT, AllocatorT>::size\_type
\hypertarget{string_8h_source_l00816}{}\hyperlink{classhryky_1_1_string_afe570a5245b8ae9fb91ab0aebecc5b5a}{00816} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::capacity}()\textcolor{keyword}{ const}
00817 \textcolor{keyword}{}\{
00818     \textcolor{keywordflow}{return} this->capacity\_;
00819 \}
00823 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00824 \textcolor{keywordtype}{bool}
\hypertarget{string_8h_source_l00825}{}\hyperlink{classhryky_1_1_string_aae6ce7131e8bb4c2cf03689a6a183b8d}{00825} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::reserve}(size\_type \textcolor{keyword}{const} capacity)
00826 \{
00827     \textcolor{keywordflow}{if} (this->capacity\_ >= capacity) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \}
00828 
00829     buffer\_type \textcolor{keyword}{const} buffer = this->allocator\_.allocate(capacity + 1);
00830 
00831     \textcolor{keywordflow}{if} (\hyperlink{common_8h_a4cd4ac09cfcdbd6b30ee69afc156e210}{HRYKY_NULLPTR} == buffer) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}
00832 
00833     \textcolor{keywordflow}{if} (0 != this->size\_) \{
00834         std::memcpy(buffer, this->buffer\_, \textcolor{keyword}{sizeof}(value\_type) * this->size\_);
00835     \}
00836 
00837     \textcolor{keywordflow}{if} (\hyperlink{common_8h_a4cd4ac09cfcdbd6b30ee69afc156e210}{HRYKY_NULLPTR} != this->buffer\_) \{
00838         this->allocator\_.deallocate(this->buffer\_, this->capacity\_ + 1);
00839     \}
00840 
00841     this->buffer\_ = buffer;
00842     this->capacity\_ = capacity;
00843     this->buffer\_[this->size\_] = terminator();
00844 
00845     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00846 \}
00850 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00851 \textcolor{keywordtype}{void}
\hypertarget{string_8h_source_l00852}{}\hyperlink{classhryky_1_1_string_aeb2e094c044bcfc83c814e1610a98e70}{00852} \hyperlink{namespacehryky_aa201297ea9530da954a7230be71cc19d}{hryky::String<CharT, AllocatorT>::clear}()
00853 \{
00854     this->resize(0);
00855 \}
00859 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00860 \textcolor{keywordtype}{bool}
\hypertarget{string_8h_source_l00861}{}\hyperlink{classhryky_1_1_string_aff01fafe438f65219695edae5459ed31}{00861} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::empty}()\textcolor{keyword}{ const}
00862 \textcolor{keyword}{}\{
00863     \textcolor{keywordflow}{return} 0 == this->size\_;
00864 \}
00868 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00869 \textcolor{keyword}{typename} hryky::String<CharT, AllocatorT>::const\_reference
\hypertarget{string_8h_source_l00870}{}\hyperlink{classhryky_1_1_string_a94674af895596884bb7f365e922afb9d}{00870} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::at}(size\_type \textcolor{keyword}{const} index)\textcolor{keyword}{ const}
00871 \textcolor{keyword}{}\{
00872     \textcolor{keywordflow}{if} (this->size\_ <= index) \{
00873         \hyperlink{debug__common_8h_af50606eac4009921527ddcaed392b2c2}{hryky_throw}(
00874             std::out\_of\_range,
00875             \textcolor{stringliteral}{"invalid index"}
00876             << \textcolor{stringliteral}{" : size "} << this->size\_
00877             << \textcolor{stringliteral}{" : index "} << index,
00878             \textcolor{keywordflow}{return} terminator\_);
00879     \}
00880     
00881     \textcolor{keywordflow}{return} this->buffer\_[index];
00882 \}
00886 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00887 \textcolor{keyword}{typename} hryky::String<CharT, AllocatorT>::reference
\hypertarget{string_8h_source_l00888}{}\hyperlink{classhryky_1_1_string_a73cc0252b25bad7447d79d405a2d92ba}{00888} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::at}(size\_type \textcolor{keyword}{const} index)
00889 \{
00890     \textcolor{keywordflow}{if} (this->size\_ <= index) \{
00891         \hyperlink{debug__common_8h_af50606eac4009921527ddcaed392b2c2}{hryky_throw}(
00892             std::out\_of\_range,
00893             \textcolor{stringliteral}{"invalid index"}
00894             << \textcolor{stringliteral}{" : size "} << this->size\_
00895             << \textcolor{stringliteral}{" : index "} << index,
00896             \textcolor{keywordflow}{return} terminator\_);
00897     \}
00898     
00899     \textcolor{keywordflow}{return} this->buffer\_[index];
00900 \}
00904 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00905 \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>} &
\hypertarget{string_8h_source_l00906}{}\hyperlink{classhryky_1_1_string_a7b717e6b7a107d6fdc7c0371fa71fcb8}{00906} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::append}(\hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & src)
00907 \{
00908     \textcolor{keywordflow}{return} this->append(&src.buffer\_[0], src.\hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size}());
00909 \}
00913 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00914 \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>} &
\hypertarget{string_8h_source_l00915}{}\hyperlink{classhryky_1_1_string_a79e1ddcf05952e24719cab2213f5a9a2}{00915} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::append}(\hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & str, size\_type 
      offset, size\_type size)
00916 \{
00917     \textcolor{keywordflow}{if} (str.\hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size}() < offset + size) \{
00918         \hyperlink{debug__common_8h_af50606eac4009921527ddcaed392b2c2}{hryky_throw}(
00919             std::out\_of\_range,
00920             \textcolor{stringliteral}{"the position and the size exceed the range of the passed string"}
00921             << \textcolor{stringliteral}{" : string size "} << str.\hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size}()
00922             << \textcolor{stringliteral}{" : offset "} << offset
00923             << \textcolor{stringliteral}{" : substring size "} << size,
00924             \textcolor{keywordflow}{return} *\textcolor{keyword}{this});
00925     \}
00926 
00927     \textcolor{keywordflow}{return} this->append(&str.buffer\_[offset], size);
00928 \}
00932 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00933 \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>} &
\hypertarget{string_8h_source_l00934}{}\hyperlink{classhryky_1_1_string_a615f5e44a0d32341b0e94147a3a1c8a9}{00934} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::append}(const\_pointer str, size\_type str\_size)
00935 \{
00936     \textcolor{keywordflow}{if} (0 == str\_size) \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}
00937 
00938     size\_type \textcolor{keyword}{const} size = this->size();
00939 
00940     \textcolor{keywordflow}{if} (!this->reserve(size + str\_size)) \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}
00941 
00942     std::memcpy(&this->buffer\_[size], str, \textcolor{keyword}{sizeof}(value\_type) * str\_size);
00943 
00944     this->size\_ += str\_size;
00945     this->buffer\_[this->size\_] = terminator();
00946 
00947     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00948 \}
00952 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00953 \textcolor{keyword}{template} < \textcolor{keyword}{typename} InputIterator >
00954 \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>} &
\hypertarget{string_8h_source_l00955}{}\hyperlink{classhryky_1_1_string_a6ef06ff34990a702f16c422d8080e40d}{00955} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::append}(InputIterator first, InputIterator 
      last)
00956 \{
00957     difference\_type \textcolor{keyword}{const} str\_size = last - first;
00958 
00959     \textcolor{keywordflow}{if} (0 > str\_size) \{
00960         \hyperlink{debug__common_8h_af50606eac4009921527ddcaed392b2c2}{hryky_throw}(
00961             std::invalid\_argument,
00962             \textcolor{stringliteral}{"the first iterator exceeds the last iterator"}
00963             << \textcolor{stringliteral}{" : difference "} << str\_size,
00964             \textcolor{keywordflow}{return} *\textcolor{keyword}{this});
00965     \}
00966     
00967     \textcolor{keywordflow}{if} (0 == str\_size) \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}
00968 
00969     size\_type \textcolor{keyword}{const} size = this->size();
00970 
00971     \textcolor{keywordflow}{if} (!this->reserve(size + str\_size)) \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}
00972 
00973     InputIterator itr = first;
00974     \textcolor{keywordflow}{for} (; last != itr; ++itr) \{
00975         this->allocator\_.construct(
00976             &this->buffer\_[size + (itr - first)], *itr);
00977     \}
00978     this->size\_ += str\_size;
00979     this->buffer\_[this->size\_] = terminator();
00980 
00981     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00982 \}
00986 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
00987 \textcolor{keywordtype}{bool}
\hypertarget{string_8h_source_l00988}{}\hyperlink{classhryky_1_1_string_a0e5eea4617e8a71510a1e34958b0d189}{00988} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::push_back}(value\_type \textcolor{keyword}{const} value)
00989 \{
00990     \textcolor{keywordflow}{if} (this->size\_ == this->capacity\_) \{
00991         \textcolor{keywordflow}{if} (!this->reserve((this->capacity\_ + 1) << 1)) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}
00992     \}
00993 
00994     this->buffer\_[this->size\_] = value;
00995     this->size\_ += 1;
00996     this->buffer\_[this->size\_] = terminator();
00997 
00998     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00999 \}
01003 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01004 \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>} &
\hypertarget{string_8h_source_l01005}{}\hyperlink{classhryky_1_1_string_a7bf5bd2385beb66a4d7d034eae00b9b1}{01005} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::assign}(\hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & str)
01006 \{
01007     \textcolor{keywordflow}{return} this->assign(str.buffer\_, str.\hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size}());
01008 \}
01012 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01013 \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>} &
\hypertarget{string_8h_source_l01014}{}\hyperlink{classhryky_1_1_string_a15549f6cd3f2a7957fc4d09d2ee1a346}{01014} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::assign}(\hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & str, size\_type pos, 
      size\_type size)
01015 \{
01016     \textcolor{keywordflow}{if} (str.\hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size}() < pos + size) \{
01017         \hyperlink{debug__common_8h_af50606eac4009921527ddcaed392b2c2}{hryky_throw}(
01018             std::out\_of\_range,
01019             \textcolor{stringliteral}{"the position and the size exceed the range of the passed string"}
01020             << \textcolor{stringliteral}{" : string size "} << str.\hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size}()
01021             << \textcolor{stringliteral}{" : offset "} << pos
01022             << \textcolor{stringliteral}{" : substring size "} << size,
01023             \textcolor{keywordflow}{return} *\textcolor{keyword}{this});
01024     \}
01025 
01026     \textcolor{keywordflow}{return} this->assign(&str.buffer\_[pos], size);
01027 \}
01031 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01032 \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>} &
\hypertarget{string_8h_source_l01033}{}\hyperlink{classhryky_1_1_string_a566ec0f2ab898625ae1a575a5b25c55a}{01033} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::assign}(const\_pointer str, size\_type size)
01034 \{
01035     \textcolor{keywordflow}{if} (!this->reserve(size)) \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}
01036 
01037     \textcolor{keywordflow}{if} (\hyperlink{common_8h_a4cd4ac09cfcdbd6b30ee69afc156e210}{HRYKY_NULLPTR} != this->buffer\_) \{
01038         \textcolor{keywordflow}{if} (0 != size) \{
01039             std::memcpy(this->buffer\_, str, \textcolor{keyword}{sizeof}(value\_type) * size);
01040         \}
01041         this->buffer\_[size] = terminator();
01042     \}
01043     this->size\_ = size;
01044 
01045     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
01046 \}
01050 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01051 \textcolor{keyword}{template} < \textcolor{keyword}{typename} InputIterator >
01052 \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>} &
\hypertarget{string_8h_source_l01053}{}\hyperlink{classhryky_1_1_string_aa9cd66f59bbf315959cdcf1e4dd627a2}{01053} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::assign}(InputIterator first, InputIterator 
      last)
01054 \{
01055     difference\_type \textcolor{keyword}{const} size = last - first;
01056 
01057     \textcolor{keywordflow}{if} (0 > size) \{
01058         \hyperlink{debug__common_8h_af50606eac4009921527ddcaed392b2c2}{hryky_throw}(
01059             std::invalid\_argument,
01060             \textcolor{stringliteral}{"the first iterator exceeds the last iterator"}
01061             << \textcolor{stringliteral}{" : difference "} << size,
01062             \textcolor{keywordflow}{return} *\textcolor{keyword}{this});
01063     \}
01064 
01065     \textcolor{keywordflow}{if} (!this->reserve(size)) \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}
01066 
01067     \textcolor{keywordflow}{if} (\hyperlink{common_8h_a4cd4ac09cfcdbd6b30ee69afc156e210}{HRYKY_NULLPTR} != this->buffer\_) \{
01068         InputIterator itr = first;
01069         \textcolor{keywordflow}{for} (; last != itr; ++itr) \{
01070             this->allocator\_.construct(&this->buffer\_[itr - first], *itr);
01071         \}
01072         this->buffer\_[size] = terminator();
01073     \}
01074     this->size\_ = size;
01075 
01076     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
01077 \}
01081 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01082 \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>} &
\hypertarget{string_8h_source_l01083}{}\hyperlink{classhryky_1_1_string_a9895ebf2c4792fc2636caf5c6a9b31c3}{01083} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::insert}(size\_type pos, \hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & str)
01084 \{
01085     \textcolor{keywordflow}{return} this->insert(pos, str.buffer\_, str.\hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size}());
01086 \}
01090 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01091 \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>} &
\hypertarget{string_8h_source_l01092}{}\hyperlink{classhryky_1_1_string_af1ae40208e3a4d23ae2e1db91464aa28}{01092} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::insert}(
01093     size\_type dest\_pos, \hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & str, size\_type src\_pos, size\_type 
      src\_size)
01094 \{
01095     \textcolor{keywordflow}{if} (str.\hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size}() < src\_pos + src\_size) \{
01096         \hyperlink{debug__common_8h_af50606eac4009921527ddcaed392b2c2}{hryky_throw}(
01097             std::out\_of\_range,
01098             \textcolor{stringliteral}{"argument 'src\_pos + src\_size' exceeds the range of this instance"}
01099             << \textcolor{stringliteral}{" : string size "} << str.\hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size}()
01100             << \textcolor{stringliteral}{" : offset "} << src\_pos
01101             << \textcolor{stringliteral}{" : substring size "} << src\_size,
01102             \textcolor{keywordflow}{return} *\textcolor{keyword}{this});
01103     \}
01104 
01105     \textcolor{keywordflow}{return} this->insert(dest\_pos, &str.buffer\_[src\_pos], src\_size);
01106 \}
01110 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01111 \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>} &
\hypertarget{string_8h_source_l01112}{}\hyperlink{classhryky_1_1_string_ae46c7efdd4c00f15357feb208072a386}{01112} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::insert}(
01113     size\_type pos, const\_pointer str, size\_type size)
01114 \{
01115     size\_type \textcolor{keyword}{const} prev\_size = this->size();
01116     
01117     \textcolor{keywordflow}{if} (prev\_size < pos) \{
01118         \hyperlink{debug__common_8h_af50606eac4009921527ddcaed392b2c2}{hryky_throw}(
01119             std::out\_of\_range,
01120             \textcolor{stringliteral}{"argument 'pos' exceeds the range of this instance"}
01121             << \textcolor{stringliteral}{" : destination "} << pos
01122             << \textcolor{stringliteral}{" : size "} << prev\_size,
01123             \textcolor{keywordflow}{return} *\textcolor{keyword}{this});
01124     \}
01125 
01126     \textcolor{keywordflow}{if} (0 == size) \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}
01127 
01128     \textcolor{keywordflow}{if} (!this->reserve(prev\_size + size)) \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}
01129 
01130     size\_type \textcolor{keyword}{const} moved\_size = prev\_size - pos;
01131 
01132     \textcolor{keywordflow}{if} (0 != moved\_size) \{
01133         std::memmove(
01134             &this->buffer\_[pos + size],
01135             &this->buffer\_[pos],
01136             moved\_size * \textcolor{keyword}{sizeof}(value\_type));
01137     \}
01138     std::memcpy(&this->buffer\_[pos], str, \textcolor{keyword}{sizeof}(value\_type) * size);
01139     
01140     this->size\_ += size;
01141     this->buffer\_[this->size\_] = terminator();
01142 
01143     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
01144 \}
01148 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01149 \textcolor{keyword}{template} < \textcolor{keyword}{typename} InputIterator >
01150 \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>} &
\hypertarget{string_8h_source_l01151}{}\hyperlink{classhryky_1_1_string_a11c90b922251a14dfd64beae2edb0906}{01151} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::insert}(
01152     \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} dest\_itr, InputIterator first, InputIterator last)
01153 \{
01154     \textcolor{keywordflow}{if} (this->begin() > dest\_itr || this->end() < dest\_itr) \{
01155         \hyperlink{debug__common_8h_af50606eac4009921527ddcaed392b2c2}{hryky_throw}(
01156             std::out\_of\_range,
01157             \textcolor{stringliteral}{"argument 'dest\_itr' exceeds the range of this instance"}
01158             << \textcolor{stringliteral}{" : destination "} << (dest\_itr - this->begin())
01159             << \textcolor{stringliteral}{" : size "} << this->size(),
01160             \textcolor{keywordflow}{return} *\textcolor{keyword}{this});
01161     \}
01162 
01163     difference\_type \textcolor{keyword}{const} size = last - first;
01164     \textcolor{keywordflow}{if} (0 > size) \{
01165         \hyperlink{debug__common_8h_af50606eac4009921527ddcaed392b2c2}{hryky_throw}(
01166             std::invalid\_argument,
01167             \textcolor{stringliteral}{"the first iterator exceeds the last iterator"}
01168             << \textcolor{stringliteral}{" : difference "} << size,
01169             \textcolor{keywordflow}{return} *\textcolor{keyword}{this});
01170     \}
01171 
01172     \textcolor{keywordflow}{if} (0 == size) \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}
01173 
01174     size\_type \textcolor{keyword}{const} prev\_size = this->size();
01175 
01177     size\_type \textcolor{keyword}{const} pos = dest\_itr - this->begin();
01178 
01179     \textcolor{keywordflow}{if} (!this->reserve(prev\_size + size)) \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}
01180 
01181     size\_type \textcolor{keyword}{const} moved\_size = prev\_size - pos;
01182 
01183     \textcolor{keywordflow}{if} (0 != moved\_size) \{
01184         std::memmove(
01185             &this->buffer\_[pos + size],
01186             &this->buffer\_[pos],
01187             moved\_size * \textcolor{keyword}{sizeof}(value\_type));
01188     \}
01189 
01190     InputIterator itr = first;
01191     \textcolor{keywordflow}{for} (; last != itr; ++itr) \{
01192         this->allocator\_.construct(
01193             &this->buffer\_[pos + (itr - first)], *itr);
01194     \}
01195     this->size\_ += size;
01196     this->buffer\_[this->size\_] = terminator();
01197 
01198     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
01199 \}
01203 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01204 \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>} &
\hypertarget{string_8h_source_l01205}{}\hyperlink{classhryky_1_1_string_a62f0f7325194c1c86dfbd6af80605b90}{01205} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::insert}(\hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} itr, value\_type \textcolor{keyword}{const} value)
01206 \{
01207     \textcolor{keywordflow}{if} (this->begin() > itr || this->end() < itr) \{
01208         \hyperlink{debug__common_8h_af50606eac4009921527ddcaed392b2c2}{hryky_throw}(
01209             std::out\_of\_range,
01210             \textcolor{stringliteral}{"argument 'itr' exceeds the range of this instance"}
01211             << \textcolor{stringliteral}{" : destination "} << (itr - this->begin())
01212             << \textcolor{stringliteral}{" : size "} << this->size(),
01213             \textcolor{keywordflow}{return} *\textcolor{keyword}{this});
01214     \}
01215 
01217     size\_type \textcolor{keyword}{const} pos = itr - this->begin();
01218 
01219     \textcolor{keywordflow}{if} (this->size\_ == this->capacity\_) \{
01220         \textcolor{keywordflow}{if} (!this->reserve((this->capacity\_ + 1) << 1)) \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}
01221     \}
01222 
01223     size\_type \textcolor{keyword}{const} moved\_size = this->size() - pos;
01224 
01225     \textcolor{keywordflow}{if} (0 != moved\_size) \{
01226         std::memmove(
01227             &this->buffer\_[pos + 1],
01228             &this->buffer\_[pos],
01229             moved\_size * \textcolor{keyword}{sizeof}(value\_type));
01230     \}
01231     this->buffer\_[pos] = value;
01232 
01233     this->size\_ += 1;
01234     this->buffer\_[this->size\_] = terminator();
01235     
01236     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
01237 \}
01241 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01242 \textcolor{keyword}{typename} \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{hryky::String<CharT, AllocatorT>::iterator}
\hypertarget{string_8h_source_l01243}{}\hyperlink{classhryky_1_1_string_ab45f3fadb1ffe1fc9fdd1de9e3c87df9}{01243} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::erase}(\hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} itr)
01244 \{
01245     \textcolor{keywordflow}{if} (this->begin() > itr || this->end() <= itr) \{
01246         \hyperlink{debug__common_8h_af50606eac4009921527ddcaed392b2c2}{hryky_throw}(
01247             std::out\_of\_range,
01248             \textcolor{stringliteral}{"argument 'itr' exceeds the range of this instance"}
01249             << \textcolor{stringliteral}{" : position "} << (itr - this->begin())
01250             << \textcolor{stringliteral}{" : size "} << this->size(),
01251             \textcolor{keywordflow}{return} this->end());
01252     \}
01253 
01254     size\_type \textcolor{keyword}{const} pos         = itr - this->begin();
01255     size\_type \textcolor{keyword}{const} moved\_size  = this->size() - (pos + 1);
01256 
01257     \textcolor{keywordflow}{if} (0 != moved\_size) \{
01258         std::memmove(
01259             &this->buffer\_[pos],
01260             &this->buffer\_[pos + 1],
01261             moved\_size * \textcolor{keyword}{sizeof}(value\_type));
01262     \}
01263 
01264     this->size\_ -= 1;
01265     this->buffer\_[this->size\_] = terminator();
01266 
01267     \textcolor{keywordflow}{return} \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator}(\textcolor{keyword}{this}, pos);
01268 \}
01272 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01273 \textcolor{keyword}{typename} \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{hryky::String<CharT, AllocatorT>::iterator}
\hypertarget{string_8h_source_l01274}{}\hyperlink{classhryky_1_1_string_a1bfe86dd9a32315aeecdbd8f7f198be0}{01274} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::erase}(\hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} first, \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} last)
01275 \{
01276     \textcolor{keywordflow}{if} (this->begin() > first
01277          || this->end() <= first
01278          || this->begin() >= last
01279          || this->end() < last) \{
01280         \hyperlink{debug__common_8h_af50606eac4009921527ddcaed392b2c2}{hryky_throw}(
01281             std::out\_of\_range,
01282             \textcolor{stringliteral}{"argument 'first' or 'last' exceeds the range of this instance"}
01283             << \textcolor{stringliteral}{" : first "} << (first - this->begin())
01284             << \textcolor{stringliteral}{" : last "} << (last - this->begin())
01285             << \textcolor{stringliteral}{" : size "} << this->size(),
01286             \textcolor{keywordflow}{return} this->end());
01287     \}
01288 
01289     difference\_type \textcolor{keyword}{const} size = last - first;
01290     \textcolor{keywordflow}{if} (0 >= size) \{
01291         \hyperlink{debug__common_8h_af50606eac4009921527ddcaed392b2c2}{hryky_throw}(
01292             std::invalid\_argument,
01293             \textcolor{stringliteral}{"the first iterator exceeds the last iterator"}
01294             << \textcolor{stringliteral}{" : difference "} << size,
01295             \textcolor{keywordflow}{return} this->end());
01296     \}
01297 
01298     size\_type \textcolor{keyword}{const} pos         = first - this->begin();
01299     size\_type \textcolor{keyword}{const} moved\_size  = this->size() - (pos + size);
01300 
01301     \textcolor{keywordflow}{if} (0 != moved\_size) \{
01302         std::memmove(
01303             &this->buffer\_[pos],
01304             &this->buffer\_[pos + size],
01305             moved\_size * \textcolor{keyword}{sizeof}(value\_type));
01306     \}
01307 
01308     this->size\_ -= size;
01309     this->buffer\_[this->size\_] = terminator();
01310 
01311     \textcolor{keywordflow}{return} \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator}(\textcolor{keyword}{this}, pos);
01312 \}
01316 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01317 \textcolor{keyword}{typename} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::this_type} &
\hypertarget{string_8h_source_l01318}{}\hyperlink{classhryky_1_1_string_a09705c9ae9b2a6eb030421830be1a6ad}{01318} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::replace}(
01319     size\_type dest\_pos, size\_type dest\_size, \hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & src)
01320 \{
01321     \textcolor{keywordflow}{return} this->replace(
01322         dest\_pos, dest\_size, src, 0, src.\hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size}());
01323 \}
01327 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01328 \textcolor{keyword}{typename} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::this_type} &
\hypertarget{string_8h_source_l01329}{}\hyperlink{classhryky_1_1_string_af3bde22af32eb64c88f9cf70ba00a7df}{01329} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::replace}(
01330     \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} dest\_first, \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} dest\_last, \hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & src)
01331 \{
01332     \textcolor{keywordflow}{return} this->replace(
01333         dest\_first - this->begin(),
01334         dest\_last - dest\_first,
01335         src);
01336 \}
01340 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01341 \textcolor{keyword}{typename} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::this_type} &
\hypertarget{string_8h_source_l01342}{}\hyperlink{classhryky_1_1_string_af4b644fb8a0862e04f5ff123b7578ee6}{01342} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::replace}(
01343     size\_type dest\_pos,
01344     size\_type dest\_size,
01345     \hyperlink{classhryky_1_1_string}{this_type} \textcolor{keyword}{const} & src,
01346     size\_type src\_pos, size\_type src\_size)
01347 \{
01348     \textcolor{keywordflow}{if} (src.\hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size}() < src\_pos + src\_size) \{
01349         \hyperlink{debug__common_8h_af50606eac4009921527ddcaed392b2c2}{hryky_throw}(
01350             std::out\_of\_range,
01351             \textcolor{stringliteral}{"position of the inserter specifed by argument exceeds the range of
       the instance"}
01352             << \textcolor{stringliteral}{" : src\_pos "} << src\_pos
01353             << \textcolor{stringliteral}{" : src\_size "} << src\_size
01354             << \textcolor{stringliteral}{" : size "} << src.\hyperlink{classhryky_1_1_string_a9db0f71dce7b2de86a54ab5323759265}{size}(),
01355             \textcolor{keywordflow}{return} *\textcolor{keyword}{this});
01356     \}
01357 
01358     \textcolor{keywordflow}{return} this->replace(
01359         dest\_pos, dest\_size, &src.buffer\_[src\_pos], src\_size);
01360 \}
01364 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01365 \textcolor{keyword}{typename} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::this_type} &
\hypertarget{string_8h_source_l01366}{}\hyperlink{classhryky_1_1_string_af903fdf0a575a50bdedda445c31d376e}{01366} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::replace}(
01367     size\_type dest\_pos, size\_type dest\_size, const\_pointer src, size\_type 
      src\_size)
01368 \{
01369     \textcolor{keywordflow}{if} (this->size() < dest\_pos + dest\_size) \{
01370         \hyperlink{debug__common_8h_af50606eac4009921527ddcaed392b2c2}{hryky_throw}(
01371             std::out\_of\_range,
01372             \textcolor{stringliteral}{"inserted position specifed by argument exceeds the range of this
       instance"}
01373             << \textcolor{stringliteral}{" : dest\_pos "} << dest\_pos
01374             << \textcolor{stringliteral}{" : dest\_size "} << dest\_size
01375             << \textcolor{stringliteral}{" : size "} << this->size(),
01376             \textcolor{keywordflow}{return} *\textcolor{keyword}{this});
01377     \}
01378 
01379     \textcolor{keywordflow}{if} (0 == dest\_size && 0 == src\_size) \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}
01380 
01381     \textcolor{keywordflow}{if} (dest\_size < src\_size) \{
01382         \textcolor{keywordflow}{if} (!this->reserve(this->size() + src\_size)) \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}
01383     \}
01384 
01385     size\_type \textcolor{keyword}{const} moved\_size = this->size() - (dest\_pos + dest\_size);
01386 
01387     \textcolor{keywordflow}{if} (0 != moved\_size) \{
01388         std::memmove(
01389             &this->buffer\_[dest\_pos + src\_size],
01390             &this->buffer\_[dest\_pos + dest\_size],
01391             \textcolor{keyword}{sizeof}(value\_type) * moved\_size);
01392     \}
01393 
01394     \textcolor{keywordflow}{if} (0 != src\_size) \{
01395         std::memcpy(
01396             &this->buffer\_[dest\_pos],
01397             src,
01398             \textcolor{keyword}{sizeof}(value\_type) * src\_size);
01399     \}
01400 
01401     this->size\_ += (src\_size - dest\_size);
01402     this->buffer\_[this->size\_] = terminator();
01403 
01404     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
01405 \}
01409 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01410 \textcolor{keyword}{typename} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::this_type} &
\hypertarget{string_8h_source_l01411}{}\hyperlink{classhryky_1_1_string_a212bb5e5302c2675650dd4f55878ba25}{01411} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::replace}(
01412     \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} dest\_first, \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} dest\_last, const\_pointer src, size\_type 
      src\_size)
01413 \{
01414     \textcolor{keywordflow}{return} this->replace(
01415         dest\_first - this->begin(),
01416         dest\_last - dest\_first,
01417         src,
01418         src\_size);
01419 \}
01423 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01424 \textcolor{keyword}{template} < \textcolor{keyword}{typename} InputIterator >
01425 \textcolor{keyword}{typename} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::this_type} &
\hypertarget{string_8h_source_l01426}{}\hyperlink{classhryky_1_1_string_a8f29b486917c6e7913120be286c74c4d}{01426} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::replace}(
01427     \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} dest\_first,
01428     \hyperlink{classhryky_1_1iterator_1_1random_1_1_mutable}{iterator} dest\_last,
01429     InputIterator src\_first,
01430     InputIterator src\_last)
01431 \{
01432     \textcolor{keywordflow}{if} (this->begin() > dest\_first
01433          || this->end() < dest\_first
01434          || this->begin() > dest\_last
01435          || this->end() < dest\_last
01436          ) \{
01437         \hyperlink{debug__common_8h_af50606eac4009921527ddcaed392b2c2}{hryky_throw}(
01438             std::out\_of\_range,
01439             \textcolor{stringliteral}{"inserted position specifed by argument exceeds the range of this
       instance"}
01440             << \textcolor{stringliteral}{" : first "} << (dest\_first - this->begin())
01441             << \textcolor{stringliteral}{" : last "} << (dest\_last - this->begin())
01442             << \textcolor{stringliteral}{" : size "} << this->size(),
01443             \textcolor{keywordflow}{return} *\textcolor{keyword}{this});
01444     \}
01445 
01446     \textcolor{keywordflow}{if} (dest\_last < dest\_first) \{
01447         \hyperlink{debug__common_8h_af50606eac4009921527ddcaed392b2c2}{hryky_throw}(
01448             std::invalid\_argument,
01449             \textcolor{stringliteral}{"the inserted range is invalid"}
01450             << \textcolor{stringliteral}{" : first "} << (dest\_first - this->begin())
01451             << \textcolor{stringliteral}{" : last "} << (dest\_last - this->begin()),
01452             \textcolor{keywordflow}{return} *\textcolor{keyword}{this});
01453     \}
01454 
01455     \textcolor{keywordflow}{if} (src\_last < src\_first) \{
01456         \hyperlink{debug__common_8h_af50606eac4009921527ddcaed392b2c2}{hryky_throw}(
01457             std::invalid\_argument,
01458             \textcolor{stringliteral}{"the inserter range is invalid"}
01459             << \textcolor{stringliteral}{" : difference "} << (src\_last - src\_first),
01460             \textcolor{keywordflow}{return} *\textcolor{keyword}{this});
01461     \}
01462 
01463     size\_type \textcolor{keyword}{const} dest\_size   = dest\_last - dest\_first;
01464     size\_type \textcolor{keyword}{const} src\_size    = src\_last - src\_first;
01465 
01466     \textcolor{keywordflow}{if} (0 == dest\_size && 0 == src\_size) \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}
01467 
01469     size\_type \textcolor{keyword}{const} dest\_pos = dest\_first - this->begin();
01470 
01471     \textcolor{keywordflow}{if} (dest\_size < src\_size) \{
01472         \textcolor{keywordflow}{if} (!this->reserve(this->size() + src\_size)) \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}
01473     \}
01474 
01475     size\_type \textcolor{keyword}{const} moved\_size = this->size() - (dest\_pos + dest\_size);
01476 
01477     \textcolor{keywordflow}{if} (0 != moved\_size) \{
01478         std::memmove(
01479             &this->buffer\_[dest\_pos + src\_size],
01480             &this->buffer\_[dest\_pos + dest\_size],
01481             \textcolor{keyword}{sizeof}(value\_type) * moved\_size);
01482     \}
01483 
01484     InputIterator src\_itr = src\_first;
01485     \textcolor{keywordflow}{for} (; src\_last != src\_itr; ++src\_itr) \{
01486         this->buffer\_[dest\_pos + (src\_itr - src\_first)] = *src\_itr;
01487     \}
01488 
01489     this->size\_ += (src\_size - dest\_size);
01490     this->buffer\_[this->size\_] = terminator();
01491 
01492     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
01493 \}
01497 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01498 \textcolor{keywordtype}{void} 
\hypertarget{string_8h_source_l01499}{}\hyperlink{classhryky_1_1_string_a5ff47f11c86f2cf71e7e2d1427c1474b}{01499} \hyperlink{namespacehryky_a4282146df5ea2b68cb667896a2205909}{hryky::String<CharT, AllocatorT>::swap}(\hyperlink{classhryky_1_1_string}{this_type} & src)
01500 \{
01501     \hyperlink{namespacehryky_add9c1c1fdfda07cd47bcb7c16d3a823a}{hryky_swap}(this->allocator\_,   src.allocator\_);
01502     \hyperlink{namespacehryky_add9c1c1fdfda07cd47bcb7c16d3a823a}{hryky_swap}(this->buffer\_,      src.buffer\_);
01503     \hyperlink{namespacehryky_add9c1c1fdfda07cd47bcb7c16d3a823a}{hryky_swap}(this->capacity\_,    src.capacity\_);
01504     \hyperlink{namespacehryky_add9c1c1fdfda07cd47bcb7c16d3a823a}{hryky_swap}(this->size\_,        src.size\_);
01505 \}
01509 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01510 \textcolor{keyword}{typename} hryky::String<CharT, AllocatorT>::const\_pointer
\hypertarget{string_8h_source_l01511}{}\hyperlink{classhryky_1_1_string_a6cbb3af33227054fa85010603cbfa430}{01511} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::c_str}()\textcolor{keyword}{ const}
01512 \textcolor{keyword}{}\{
01513     \textcolor{keywordflow}{return} \hyperlink{common_8h_a4cd4ac09cfcdbd6b30ee69afc156e210}{HRYKY_NULLPTR} == this->buffer\_ ? &this\_type::terminator\_ : this->
      buffer\_;
01514 \}
01518 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01519 \textcolor{keyword}{typename} hryky::String<CharT, AllocatorT>::const\_pointer
\hypertarget{string_8h_source_l01520}{}\hyperlink{classhryky_1_1_string_af61f2a74347fabebd76f9fa810341724}{01520} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::data}()\textcolor{keyword}{ const}
01521 \textcolor{keyword}{}\{
01522     \textcolor{keywordflow}{return} this->buffer\_;
01523 \}
01527 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01528 \textcolor{keyword}{typename} hryky::String<CharT, AllocatorT>::allocator\_type 
\hypertarget{string_8h_source_l01529}{}\hyperlink{classhryky_1_1_string_a710ee15ff97ece02e764e0be568522bc}{01529} \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::get_allocator}()\textcolor{keyword}{ const}
01530 \textcolor{keyword}{}\{
01531     \textcolor{keywordflow}{return} this->allocator\_;
01532 \}
01536 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l01537}{}\hyperlink{classhryky_1_1_string_a03adae56f3604b70e4cf17c8473c667a}{01537} \hyperlink{classhryky_1_1_intrusive_ptr}{hryky::reduction_type} \hyperlink{namespacehryky_af41cb3af6766761da0ff21b84527a52c}{hryky::String<CharT, AllocatorT>::reduce}(
01538     \hyperlink{classhryky_1_1reduction_1_1_string}{reduction::name_type} \textcolor{keyword}{const} & name)\textcolor{keyword}{ const}
01539 \textcolor{keyword}{}\{
01540     \hyperlink{classhryky_1_1_intrusive_ptr}{reduction::map_type} \hyperlink{namespacehryky_1_1reduction_ac5eae270cf8047b294dc4ff3e5e11a79}{map} = \hyperlink{namespacehryky_1_1reduction_ac5eae270cf8047b294dc4ff3e5e11a79}{reduction::map}(name);
01541     ((*map)
01542      .append(\textcolor{stringliteral}{"size"},        this->size())
01543      .append(\textcolor{stringliteral}{"capacity"},    this->capacity())
01544      .append(\textcolor{stringliteral}{"c\_str"},       this->c\_str())
01545      );
01546     \textcolor{keywordflow}{return} \hyperlink{namespacehryky_1_1reduction_ac5eae270cf8047b294dc4ff3e5e11a79}{map};
01547 \}
01551 \textcolor{keyword}{template} <\textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01552 \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
\hypertarget{string_8h_source_l01553}{}\hyperlink{classhryky_1_1_string_a5632cb3b6a55de35a0d2c03ddbe8f75e}{01553} StreamT & \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>::write_to}(StreamT & stream)\textcolor{keyword}{ const}
01554 \textcolor{keyword}{}\{
01555     stream << this->c\_str();
01556     \textcolor{keywordflow}{return} stream;
01557 \}
01558 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
01559 \textcolor{comment}{// protected member functions}
01560 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
01561 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
01562 \textcolor{comment}{// private member functions}
01563 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
01564 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
01565 \textcolor{comment}{// global function prototypes}
01566 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
01567 \textcolor{keyword}{namespace }hryky
01568 \{
01570     \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01571     \hyperlink{classhryky_1_1_intrusive_ptr}{reduction_type} \hyperlink{namespacehryky_af41cb3af6766761da0ff21b84527a52c}{reduce}(
01572         \hyperlink{classhryky_1_1reduction_1_1_string}{reduction::name_type} \textcolor{keyword}{const} & name, \hyperlink{classhryky_1_1_string}{String<CharT, AllocatorT>} \textcolor{keyword}{const} & 
      src);
01573 
01575     \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01576     \textcolor{keywordtype}{void} \hyperlink{namespacehryky_a4282146df5ea2b68cb667896a2205909}{swap}(\hyperlink{classhryky_1_1_string}{String<CharT, AllocatorT>} & lhs, \hyperlink{classhryky_1_1_string}{String<CharT, AllocatorT>} & rhs)
      ;
01577 
01579     \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01580     \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_a96bfe0df0a09db56e7253330de4f2243}{operator==}(CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} lhs, \hyperlink{classhryky_1_1_string}{String<CharT, AllocatorT>} \textcolor{keyword}{const} & 
      rhs);
01581 
01583     \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01584     \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_af83d27d9a54004f5981499e910bb7cb8}{operator!=}(CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} lhs, \hyperlink{classhryky_1_1_string}{String<CharT, AllocatorT>} \textcolor{keyword}{const} & 
      rhs);
01585 
01587     \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01588     \textcolor{keywordtype}{bool} operator<(CharT const * const lhs, String<CharT, AllocatorT> \textcolor{keyword}{const} & 
      rhs);
01589 
01591     \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01592     \textcolor{keywordtype}{bool} operator<=(CharT const * const lhs, String<CharT, AllocatorT> \textcolor{keyword}{const} & 
      rhs);
01593 
01595     \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01596     \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_af7f213d8e2d7f4c75ac2c93d7be56365}{operator>}(CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} lhs, \hyperlink{classhryky_1_1_string}{String<CharT, AllocatorT>} \textcolor{keyword}{const} & 
      rhs);
01597 
01599     \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
01600     \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_acc487ba69503ce030df6f4b9db4cbe8b}{operator>=}(CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} lhs, \hyperlink{classhryky_1_1_string}{String<CharT, AllocatorT>} \textcolor{keyword}{const} & 
      rhs);
01601 
01602     
01603 
01604 \}
01605 \textcolor{keyword}{namespace }std
01606 \{
01608     \textcolor{keyword}{template} <\textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT, \textcolor{keyword}{typename} StreamT>
01609     StreamT & operator<<(StreamT & lhs, hryky::String<CharT, AllocatorT> \textcolor{keyword}{const} 
      & rhs);
01610 
01611 \} \textcolor{comment}{// namespace std}
01612 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
01613 \textcolor{comment}{// global function definitions}
01614 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
01618 \textcolor{comment}{}\textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l01619}{}\hyperlink{namespacehryky_a152066a60658e596644dd53e09195097}{01619} \hyperlink{classhryky_1_1_intrusive_ptr}{hryky::reduction_type} \hyperlink{namespacehryky_af41cb3af6766761da0ff21b84527a52c}{hryky::reduce}(
01620     \hyperlink{classhryky_1_1reduction_1_1_string}{reduction::name_type} \textcolor{keyword}{const} & name, \hyperlink{classhryky_1_1_string}{String<CharT, AllocatorT>} \textcolor{keyword}{const} & src)
01621 \{
01622     \textcolor{keywordflow}{return} src.\hyperlink{classhryky_1_1_string_a03adae56f3604b70e4cf17c8473c667a}{reduce}(name);
01623 \}
01627 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l01628}{}\hyperlink{namespacehryky_a600e415922f06a6098359a86c0055eea}{01628} \textcolor{keywordtype}{void} \hyperlink{namespacehryky_a4282146df5ea2b68cb667896a2205909}{hryky::swap}(
01629     \hyperlink{classhryky_1_1_string}{String<CharT, AllocatorT>} & lhs, \hyperlink{classhryky_1_1_string}{String<CharT, AllocatorT>} & rhs)
01630 \{
01631     lhs.\hyperlink{classhryky_1_1_string_a5ff47f11c86f2cf71e7e2d1427c1474b}{swap}(rhs);
01632 \}
01636 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l01637}{}\hyperlink{namespacehryky_a96bfe0df0a09db56e7253330de4f2243}{01637} \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_a96bfe0df0a09db56e7253330de4f2243}{hryky::operator==}(
01638     CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} lhs, \hyperlink{classhryky_1_1_string}{String<CharT, AllocatorT>} \textcolor{keyword}{const} & rhs)
01639 \{
01640     \textcolor{keywordflow}{return} rhs == lhs;
01641 \}
01645 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l01646}{}\hyperlink{namespacehryky_af83d27d9a54004f5981499e910bb7cb8}{01646} \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_af83d27d9a54004f5981499e910bb7cb8}{hryky::operator!=}(
01647     CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} lhs, \hyperlink{classhryky_1_1_string}{String<CharT, AllocatorT>} \textcolor{keyword}{const} & rhs)
01648 \{
01649     \textcolor{keywordflow}{return} rhs != lhs;
01650 \}
01654 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l01655}{}\hyperlink{namespacehryky_a7db2acd798ff6883387f9cbe3b3e820d}{01655} \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_a7db2acd798ff6883387f9cbe3b3e820d}{hryky::operator<}(
01656     CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} lhs, \hyperlink{classhryky_1_1_string}{String<CharT, AllocatorT>} \textcolor{keyword}{const} & rhs)
01657 \{
01658     \textcolor{keywordflow}{return} rhs > lhs;
01659 \}
01663 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l01664}{}\hyperlink{namespacehryky_a3841c4dbefd9eeed038376b3044dec2b}{01664} \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_a3841c4dbefd9eeed038376b3044dec2b}{hryky::operator<=}(
01665     CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} lhs, \hyperlink{classhryky_1_1_string}{String<CharT, AllocatorT>} \textcolor{keyword}{const} & rhs)
01666 \{
01667     \textcolor{keywordflow}{return} rhs >= lhs;
01668 \}
01672 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l01673}{}\hyperlink{namespacehryky_af7f213d8e2d7f4c75ac2c93d7be56365}{01673} \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_af7f213d8e2d7f4c75ac2c93d7be56365}{hryky::operator>}(
01674     CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} lhs, \hyperlink{classhryky_1_1_string}{String<CharT, AllocatorT>} \textcolor{keyword}{const} & rhs)
01675 \{
01676     \textcolor{keywordflow}{return} rhs < lhs;
01677 \}
01681 \textcolor{keyword}{template} < \textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT>
\hypertarget{string_8h_source_l01682}{}\hyperlink{namespacehryky_acc487ba69503ce030df6f4b9db4cbe8b}{01682} \textcolor{keywordtype}{bool} \hyperlink{namespacehryky_acc487ba69503ce030df6f4b9db4cbe8b}{hryky::operator>=}(
01683     CharT \textcolor{keyword}{const} * \textcolor{keyword}{const} lhs, \hyperlink{classhryky_1_1_string}{String<CharT, AllocatorT>} \textcolor{keyword}{const} & rhs)
01684 \{
01685     \textcolor{keywordflow}{return} rhs <= lhs;
01686 \}
01690 \textcolor{keyword}{template} <\textcolor{keyword}{typename} CharT, \textcolor{keyword}{typename} AllocatorT, \textcolor{keyword}{typename} StreamT>
01691 StreamT & std::operator<<(
01692     StreamT & lhs, \hyperlink{classhryky_1_1_string}{hryky::String<CharT, AllocatorT>} \textcolor{keyword}{const} & rhs)
01693 \{
01694     \textcolor{keywordflow}{return} rhs.\hyperlink{classhryky_1_1_string_a5632cb3b6a55de35a0d2c03ddbe8f75e}{write_to}(lhs);
01695 \}
01696 \textcolor{preprocessor}{#endif // STRING\_H\_20120419000213668}
01697 \textcolor{preprocessor}{}\textcolor{comment}{// end of file}
\end{DoxyCode}
