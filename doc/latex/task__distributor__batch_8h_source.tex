\hypertarget{task__distributor__batch_8h_source}{\section{task\-\_\-distributor\-\_\-batch.\-h}
}

\begin{DoxyCode}
00001 
00009 \textcolor{preprocessor}{#ifndef TASK\_DISTRIBUTOR\_BATCH\_H\_20111124003850693}
00010 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define TASK\_DISTRIBUTOR\_BATCH\_H\_20111124003850693}
00011 \textcolor{preprocessor}{}\textcolor{preprocessor}{#include "\hyperlink{task__distributor__impl_8h}{hryky/task/task_distributor_impl.h}"}
00012 \textcolor{preprocessor}{#include "\hyperlink{add__reference_8h}{hryky/gp/add_reference.h}"}
00013 \textcolor{preprocessor}{#include "\hyperlink{add__const_8h}{hryky/gp/add_const.h}"}
00014 \textcolor{preprocessor}{#include "\hyperlink{foreach_8h}{hryky/foreach.h}"}
00015 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00016 \textcolor{comment}{// macro definition}
00017 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00018 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00019 \textcolor{comment}{// namespace}
00020 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00021 \textcolor{keyword}{namespace }hryky
00022 \{
00023 \textcolor{keyword}{namespace }task
00024 \{
00025     \textcolor{keyword}{class }Sequence;
00026     
00027 \textcolor{keyword}{namespace }distributor
00028 \{
00030     \textcolor{keyword}{template} < \textcolor{keyword}{typename} TaskT >
00031     \textcolor{keyword}{class }Batch;
00032 
00033 \}
\hypertarget{task__distributor__batch_8h_source_l00034}{}\hyperlink{namespacehryky_1_1task_1_1worker}{00034} \textcolor{keyword}{namespace }worker
00035 \{
00036     \textcolor{keyword}{template} < \textcolor{keyword}{typename} TaskT >
00037     \textcolor{keyword}{class }\hyperlink{classhryky_1_1task_1_1worker_1_1_batch}{Batch};
00038 \}
00039 \}
00040 \}
00041 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00042 \textcolor{comment}{// class declaration}
00043 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00047 \textcolor{comment}{}\textcolor{keyword}{template} < \textcolor{keyword}{typename} TaskT >
\hypertarget{task__distributor__batch_8h_source_l00048}{}\hyperlink{classhryky_1_1task_1_1distributor_1_1_batch}{00048} \textcolor{keyword}{class }\hyperlink{classhryky_1_1task_1_1distributor_1_1_batch}{hryky::task::distributor::Batch}
00049     : \textcolor{keyword}{public} \hyperlink{classhryky_1_1task_1_1distributor_1_1_impl}{distributor::Impl}<worker::Batch<TaskT> >
00050 \{
00051 \textcolor{keyword}{public} :
00052 
\hypertarget{task__distributor__batch_8h_source_l00053}{}\hyperlink{classhryky_1_1task_1_1distributor_1_1_batch_ab5d613652725c425a5dbc75338a8c5f0}{00053}     \textcolor{keyword}{typedef} \hyperlink{classhryky_1_1task_1_1distributor_1_1_batch}{Batch<TaskT>}            \hyperlink{classhryky_1_1task_1_1distributor_1_1_batch_ab5d613652725c425a5dbc75338a8c5f0}{this_type};
\hypertarget{task__distributor__batch_8h_source_l00054}{}\hyperlink{classhryky_1_1task_1_1distributor_1_1_batch_adb73470606a9b6fcb8aa968604ccafd4}{00054}     \textcolor{keyword}{typedef} \hyperlink{classhryky_1_1task_1_1worker_1_1_batch}{worker::Batch<TaskT>}    \hyperlink{classhryky_1_1task_1_1distributor_1_1_batch_adb73470606a9b6fcb8aa968604ccafd4}{worker_type};
\hypertarget{task__distributor__batch_8h_source_l00055}{}\hyperlink{classhryky_1_1task_1_1distributor_1_1_batch_a359f221fcab163ce25db74f1695f9c1b}{00055}     \textcolor{keyword}{typedef} \hyperlink{classhryky_1_1task_1_1distributor_1_1_impl}{Impl<worker_type>}       \hyperlink{classhryky_1_1task_1_1distributor_1_1_batch_a359f221fcab163ce25db74f1695f9c1b}{base_type};
00056     \textcolor{keyword}{typedef} TaskT                   task\_type;
00057 
00058     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{classhryky_1_1_add_reference}{AddReference<typename AddConst<task_type>::type}>::type
00059         task\_const\_reference;
00060 
\hypertarget{task__distributor__batch_8h_source_l00062}{}\hyperlink{structhryky_1_1task_1_1distributor_1_1_batch_1_1_reset_parameter}{00062}     \textcolor{keyword}{struct }\hyperlink{structhryky_1_1task_1_1distributor_1_1_base_1_1_reset_parameter}{ResetParameter} : \textcolor{keyword}{public} base\_type::ResetParameter
00063     \{
00064         \textcolor{keyword}{typedef} \hyperlink{structhryky_1_1task_1_1distributor_1_1_base_1_1_reset_parameter}{ResetParameter}                      \hyperlink{structhryky_1_1task_1_1distributor_1_1_base_1_1_reset_parameter}{this_type};
00065         \textcolor{keyword}{typedef} \textcolor{keyword}{typename} base\_type::ResetParameter  base\_type;
00066 
\hypertarget{task__distributor__batch_8h_source_l00070}{}\hyperlink{structhryky_1_1task_1_1distributor_1_1_batch_1_1_reset_parameter_a997df3dab45c5ef82f3d26ca532380ab}{00070}         \hyperlink{structhryky_1_1task_1_1distributor_1_1_batch_1_1_reset_parameter_a997df3dab45c5ef82f3d26ca532380ab}{ResetParameter}(\hyperlink{classhryky_1_1task_1_1_concurrency}{Concurrency} & concurrency)
00071             : base\_type(concurrency)
00072               , batch\_size\_(1) \{\}
00073 
00074     \textcolor{keyword}{private} :
00075         hryky\_accessor\_row(\textcolor{keywordtype}{size\_t}, batch\_size);
00076     \};
00077 
00079     \hyperlink{group__task_gabc2230b47631c13cfaa63fe5438b2b7f}{Batch}();
00080 
00082     \textcolor{keyword}{virtual} \hyperlink{group__task_ga80bd5c0c04972878c21bd5eda4c7d4e7}{~Batch}();
00083 
00089     \textcolor{keywordtype}{bool} \hyperlink{group__task_ga9ebf9038e6e40f583b3b26866e1f8131}{reset}(ResetParameter \textcolor{keyword}{const} & param);
00090 
00100     \textcolor{keywordtype}{bool} \hyperlink{group__task_gaaa80eb88fb7d7223214dd039ae52ed16}{distribute}(task\_const\_reference task);
00101 
00108     \textcolor{keyword}{template} < \textcolor{keyword}{typename} InputIterator >
00109     \textcolor{keywordtype}{bool} \hyperlink{group__task_gaaa80eb88fb7d7223214dd039ae52ed16}{distribute}(InputIterator begin, InputIterator end);
00110 
00115     \textcolor{keywordtype}{bool} \hyperlink{group__task_ga54ecf037362d5f476c1cd9a984c1b720}{attach_with}(task\_const\_reference task);
00116 
00117 \textcolor{keyword}{protected} :
00118 
00119 \textcolor{keyword}{private} :
00120 
00122     \textcolor{keyword}{explicit} \hyperlink{group__task_gabc2230b47631c13cfaa63fe5438b2b7f}{Batch}(\hyperlink{classhryky_1_1task_1_1distributor_1_1_batch}{Batch} \textcolor{keyword}{const} &);
00123 
00125     \hyperlink{classhryky_1_1task_1_1distributor_1_1_batch}{Batch} & operator=(\hyperlink{classhryky_1_1task_1_1distributor_1_1_batch}{Batch} \textcolor{keyword}{const} &rhs);
00126 
00127     WorkerObserver      worker\_observer\_;
00128     \textcolor{keywordtype}{size\_t}              rotation\_;  
00129 
00130 \};
00131 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00132 \textcolor{comment}{// public member functions}
00133 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00137 \textcolor{comment}{}\textcolor{keyword}{template} < \textcolor{keyword}{typename} TaskT >
\hypertarget{task__distributor__batch_8h_source_l00138}{}\hyperlink{group__task_gabc2230b47631c13cfaa63fe5438b2b7f}{00138} \hyperlink{group__task_gabc2230b47631c13cfaa63fe5438b2b7f}{hryky::task::distributor::Batch<TaskT>::Batch}()
00139     : \hyperlink{classhryky_1_1task_1_1distributor_1_1_impl}{base_type}(), worker\_observer\_(), rotation\_(0)
00140 \{
00141     this->worker\_observer\_.\hyperlink{classhryky_1_1task_1_1distributor_1_1_base_1_1_worker_observer_a54b231849b0ff42c96eaa37f5bc3d9de}{distributor}(\textcolor{keyword}{this});
00142     \textcolor{keywordflow}{return};
00143 \}
00147 \textcolor{keyword}{template} < \textcolor{keyword}{typename} TaskT >
\hypertarget{task__distributor__batch_8h_source_l00148}{}\hyperlink{group__task_ga80bd5c0c04972878c21bd5eda4c7d4e7}{00148} \hyperlink{classhryky_1_1task_1_1distributor_1_1_batch}{hryky::task::distributor::Batch<TaskT>::~Batch}()
00149 \{
00150 \}
00154 \textcolor{keyword}{template} < \textcolor{keyword}{typename} TaskT >
\hypertarget{task__distributor__batch_8h_source_l00155}{}\hyperlink{group__task_ga9ebf9038e6e40f583b3b26866e1f8131}{00155} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1task_1_1distributor_1_1_batch}{hryky::task::distributor::Batch<TaskT>::reset}(\hyperlink{structhryky_1_1task_1_1distributor_1_1_base_1_1_reset_parameter}{ResetParameter} \textcolor{keyword}{const} & param
      )
00156 \{
00157     \hyperlink{classhryky_1_1memory_1_1heap_1_1_base}{heap_type} \hyperlink{namespacehryky_1_1memory_1_1global_a6fc6103f67c837aa0f39b359588409cd}{heap} = param.heap();
00158 
00159     \textcolor{keywordflow}{if} (\hyperlink{common_8h_a4cd4ac09cfcdbd6b30ee69afc156e210}{HRYKY_NULLPTR} == heap) \{
00160         heap = \hyperlink{namespacehryky_1_1memory_1_1global_a6fc6103f67c837aa0f39b359588409cd}{memory::global::heap}();
00161     \}
00162     
00163     \textcolor{keywordflow}{if} (!this->base\_type::reset(param)) \{
00164         \hyperlink{log__writer__common_8h_ae5ad3dabb33f594695ef40753cb78aad}{hryky_log_err}(\textcolor{stringliteral}{"failed to initialize the base class of
       distributor::Batch"});
00165         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00166     \}
00167     
00168     \hyperlink{classhryky_1_1task_1_1_concurrency}{Concurrency} & concurrency = param.concurrency();
00169 
00170     \textcolor{keywordtype}{size\_t} \textcolor{keyword}{const} workers\_size = concurrency.\hyperlink{classhryky_1_1task_1_1_concurrency_a2def26af9d687f558bbdb77f8c59f142}{units_size}();
00171 
00172     \hyperlink{classhryky_1_1_vector}{workers_type} workers(heap);
00173     \textcolor{keywordflow}{if} (!workers.\hyperlink{classhryky_1_1_vector_a9148eb8972b43ed3a7e807d19be848a5}{resize}(workers\_size)) \{
00174         \hyperlink{log__writer__common_8h_ae5ad3dabb33f594695ef40753cb78aad}{hryky_log_err}(
00175             \hyperlink{namespacehryky_1_1reduction_ac5eae270cf8047b294dc4ff3e5e11a79}{reduction::map}(\textcolor{stringliteral}{"failed to allocate buffer for workers"})
00176             ->append(\textcolor{stringliteral}{"workers\_size"}, workers\_size));
00177         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00178     \}
00179 
00180     \hyperlink{classhryky_1_1_foreach}{Foreach<workers_type>} \textcolor{keywordflow}{foreach}(workers);
00181     \textcolor{keywordflow}{for} (; \textcolor{keywordflow}{foreach}.valid(); ++\textcolor{keywordflow}{foreach}) \{
00182         \hyperlink{classhryky_1_1task_1_1worker_1_1_base}{worker_type} & worker = *\textcolor{keywordflow}{foreach};
00183         workers\_type::size\_type \textcolor{keyword}{const} index = &worker - &*workers.\hyperlink{classhryky_1_1_vector_aa032aa9e48dce836e68434e6ad58f0f5}{begin}();
00184         
00185         Sequence & sequence = concurrency.\hyperlink{classhryky_1_1task_1_1_concurrency_aa82281dbb7df8aa9fcad2acb9ecb4531}{sequence}(index);
00186 
00187         \textcolor{keywordflow}{if} (!worker.\hyperlink{classhryky_1_1task_1_1worker_1_1_base_a2dfa3093b3165d58ed31aa575ae1b159}{reset}(
00188             \hyperlink{structhryky_1_1task_1_1worker_1_1_base_1_1_reset_parameter}{worker_type::ResetParameter}(sequence)
00189             .distributor(\textcolor{keyword}{this})
00190             .observer(&this->worker\_observer\_)
00191             .heap(heap)
00192             .batch\_size(param.batch\_size()))) \{
00193             \hyperlink{log__writer__common_8h_ae5ad3dabb33f594695ef40753cb78aad}{hryky_log_err}(
00194                 \textcolor{stringliteral}{"reseting worker failed"});
00195             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00196         \}
00197     \}
00198 
00199     \textcolor{comment}{// assigns an implementation of worker to the pointer which the base class
       has.}
00200     this->implement(workers);
00201 
00202     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00203 \}
00207 \textcolor{keyword}{template} < \textcolor{keyword}{typename} TaskT >
\hypertarget{task__distributor__batch_8h_source_l00208}{}\hyperlink{group__task_gaaa80eb88fb7d7223214dd039ae52ed16}{00208} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1task_1_1distributor_1_1_batch}{hryky::task::distributor::Batch<TaskT>::distribute}(
00209     task\_const\_reference task)
00210 \{
00211     \textcolor{keywordtype}{size\_t} \textcolor{keyword}{const} workers\_size = this->workers\_size();
00212 
00213     \textcolor{keywordflow}{if} (0 == workers\_size) \{
00214         \hyperlink{log__writer__common_8h_ae5ad3dabb33f594695ef40753cb78aad}{hryky_log_err}(
00215             \textcolor{stringliteral}{"invalid context => \{ not initialized \}"});
00216         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00217     \}
00218 
00219     \textcolor{keywordtype}{size\_t} \textcolor{keyword}{const} rotation = this->rotation\_;
00220 
00221     \textcolor{keywordflow}{if} (!this->worker(rotation).append(task)) \{
00222         \hyperlink{log__writer__common_8h_ae5ad3dabb33f594695ef40753cb78aad}{hryky_log_err}(
00223             \hyperlink{namespacehryky_1_1reduction_ac5eae270cf8047b294dc4ff3e5e11a79}{reduction::map}(\textcolor{stringliteral}{"failed to append a task to the worker"})
00224             ->append(\textcolor{stringliteral}{"rotation"}, rotation));
00225         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00226     \}
00227 
00228     this->rotation\_ = (rotation + 1) % workers\_size;
00229 
00230     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00231 \}
00235 \textcolor{keyword}{template} < \textcolor{keyword}{typename} TaskT >
00236 \textcolor{keyword}{template} < \textcolor{keyword}{typename} InputIterator >
\hypertarget{task__distributor__batch_8h_source_l00237}{}\hyperlink{group__task_gaf62dc1e2c3d349ecd67f459d254550fd}{00237} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1task_1_1distributor_1_1_batch}{hryky::task::distributor::Batch<TaskT>::distribute}(
00238     InputIterator begin, InputIterator end)
00239 \{
00240     \textcolor{keywordtype}{size\_t} \textcolor{keyword}{const} workers\_size = this->workers\_size();
00241 
00242     \textcolor{keywordflow}{if} (0 == workers\_size) \{
00243         \hyperlink{log__writer__common_8h_ae5ad3dabb33f594695ef40753cb78aad}{hryky_log_err}(
00244             \textcolor{stringliteral}{"invalid context => \{ not initialized \}"});
00245         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00246     \}
00247 
00248     \textcolor{keywordtype}{size\_t} \textcolor{keyword}{const} tasks\_size = end - begin;
00249     \textcolor{keywordtype}{size\_t} \textcolor{keyword}{const} tasks\_per\_worker =
00250         (tasks\_size + workers\_size - 1) / workers\_size * workers\_size;
00251 
00252     \textcolor{keywordtype}{size\_t}          rest\_tasks\_size = tasks\_size;
00253     InputIterator   ptr = begin;
00254 
00255     \textcolor{keywordflow}{while} (end != ptr) \{
00256         \textcolor{keywordtype}{size\_t} \textcolor{keyword}{const} distributions\_size = std::min<size\_t>(
00257             rest\_tasks\_size, tasks\_per\_worker);
00258 
00259         \textcolor{keywordtype}{size\_t} \textcolor{keyword}{const} rotation = this->rotations\_;
00260 
00261         \textcolor{keywordflow}{if} (!this->worker(rotation).append(ptr, ptr + distributions\_size)) \{
00262             \hyperlink{log__writer__common_8h_ae5ad3dabb33f594695ef40753cb78aad}{hryky_log_err}(
00263                 (*\hyperlink{namespacehryky_1_1reduction_ac5eae270cf8047b294dc4ff3e5e11a79}{reduction::map}(\textcolor{stringliteral}{"failed to append multiple tasks to the worker
      "}))
00264                 .append(\textcolor{stringliteral}{"rotation"}, rotation)
00265                 .append(\textcolor{stringliteral}{"task\_begin"}, ptr - begin)
00266                 .append(\textcolor{stringliteral}{"tasks\_size"}, distributions\_size)
00267                 );
00268             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00269         \}
00270 
00271         this->rotation\_ = (rotation + 1) % workers\_size;
00272 
00273         ptr = ptr + distributions\_size;
00274         rest\_tasks\_size = rest\_tasks\_size - distributions\_size;
00275     \}
00276 
00277     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00278 \}
00282 \textcolor{keyword}{template} < \textcolor{keyword}{typename} TaskT >
\hypertarget{task__distributor__batch_8h_source_l00283}{}\hyperlink{group__task_ga54ecf037362d5f476c1cd9a984c1b720}{00283} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1task_1_1distributor_1_1_batch}{hryky::task::distributor::Batch<TaskT>::attach_with}(
00284     task\_const\_reference task)
00285 \{
00286     \textcolor{keywordtype}{size\_t} \textcolor{keyword}{const} workers\_size = this->workers\_size();
00287 
00288     \textcolor{keywordflow}{if} (0 == workers\_size) \{
00289         \hyperlink{log__writer__common_8h_ae5ad3dabb33f594695ef40753cb78aad}{hryky_log_err}(
00290             \textcolor{stringliteral}{"invalid context => \{ not initialized \}"});
00291         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00292     \}
00293 
00294     \textcolor{keywordtype}{size\_t} \textcolor{keyword}{const} rotation = this->rotation\_;
00295 
00296     \hyperlink{classhryky_1_1task_1_1worker_1_1_base}{worker_type} & worker = this->worker(rotation);
00297 
00298     \textcolor{keywordflow}{if} (!worker.append(task)) \{
00299         \hyperlink{log__writer__common_8h_ae5ad3dabb33f594695ef40753cb78aad}{hryky_log_err}(
00300             \hyperlink{namespacehryky_1_1reduction_ac5eae270cf8047b294dc4ff3e5e11a79}{reduction::map}(\textcolor{stringliteral}{"failed to distribute a task to the worker"})
00301             ->append(\textcolor{stringliteral}{"rotation"}, rotation));
00302         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00303     \}
00304 
00305     \textcolor{keywordflow}{if} (!worker.\hyperlink{classhryky_1_1task_1_1worker_1_1_base_ae17d5723d8aa5567ea6a47b67f8133c4}{attach}()) \{
00306         \hyperlink{log__writer__common_8h_ae5ad3dabb33f594695ef40753cb78aad}{hryky_log_err}(
00307             \hyperlink{namespacehryky_1_1reduction_ac5eae270cf8047b294dc4ff3e5e11a79}{reduction::map}(\textcolor{stringliteral}{"failed to attach the worker to a concurrent unit"})
00308             ->append(\textcolor{stringliteral}{"rotation"}, rotation));
00309         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00310     \}
00311 
00312     this->rotation\_ = (rotation + 1) % workers\_size;
00313 
00314     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00315 \}
00316 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00317 \textcolor{comment}{// protected member functions}
00318 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00319 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00320 \textcolor{comment}{// private member functions}
00321 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00322 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00323 \textcolor{comment}{// inline functions}
00324 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00325 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00326 \textcolor{comment}{// function prototypes}
00327 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00328 \textcolor{keyword}{namespace }hryky
00329 \{
00330 \textcolor{keyword}{namespace }task
00331 \{
00332 \textcolor{keyword}{namespace }distributor
00333 \{
00335     \textcolor{keyword}{template} < \textcolor{keyword}{typename} TaskT >
00336     \hyperlink{classhryky_1_1_intrusive_ptr}{reduction_type} \hyperlink{group__task_ga89a7a92c43485c438438ab4b97184a27}{reduce}(
00337         \hyperlink{classhryky_1_1reduction_1_1_string}{reduction::name_type} \textcolor{keyword}{const} & name, \hyperlink{classhryky_1_1task_1_1distributor_1_1_batch}{Batch<TaskT>} \textcolor{keyword}{const} & batch);
00338 
00339 \}
00340 \}
00341 \}
00342 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00343 \textcolor{comment}{// global functions}
00344 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00348 \textcolor{comment}{}\textcolor{keyword}{template} < \textcolor{keyword}{typename} TaskT >
\hypertarget{task__distributor__batch_8h_source_l00349}{}\hyperlink{group__task_ga89a7a92c43485c438438ab4b97184a27}{00349} \hyperlink{classhryky_1_1_intrusive_ptr}{hryky::reduction_type} \hyperlink{group__task_ga89a7a92c43485c438438ab4b97184a27}{hryky::task::distributor::reduce}(
00350     \hyperlink{classhryky_1_1reduction_1_1_string}{reduction::name_type} \textcolor{keyword}{const} & name, \hyperlink{classhryky_1_1task_1_1distributor_1_1_batch}{Batch<TaskT>} \textcolor{keyword}{const} & batch)
00351 \{
00352     \textcolor{keyword}{typedef} \hyperlink{classhryky_1_1task_1_1distributor_1_1_batch}{Batch<TaskT>} batch\_type;
00353     
00354     \textcolor{keywordflow}{return} \hyperlink{group__task_ga89a7a92c43485c438438ab4b97184a27}{reduce}(name, static\_cast<batch\_type::base\_type const &>(batch));
00355 \}
00356 \textcolor{preprocessor}{#endif // TASK\_DISTRIBUTOR\_BATCH\_H\_20111124003850693}
00357 \textcolor{preprocessor}{}
00358 \textcolor{comment}{// end of file}
\end{DoxyCode}
