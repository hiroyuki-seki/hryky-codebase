\hypertarget{reduction__stream_8h_source}{\section{reduction\-\_\-stream.\-h}
}

\begin{DoxyCode}
00001 
00007 \textcolor{preprocessor}{#ifndef REDUCTION\_STREAM\_H\_20130204143207272}
00008 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define REDUCTION\_STREAM\_H\_20130204143207272}
00009 \textcolor{preprocessor}{}\textcolor{preprocessor}{#include "\hyperlink{indent_8h}{hryky/indent.h}"}
00010 \textcolor{preprocessor}{#include "\hyperlink{reduction__dispatcher_8h}{hryky/reduction/reduction_dispatcher.h}"}
00011 \textcolor{preprocessor}{#include "\hyperlink{literal__string_8h}{hryky/literal_string.h}"}
00012 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00013 \textcolor{comment}{// macro definition}
00014 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00015 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00016 \textcolor{comment}{// namespace}
00017 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00018 \textcolor{keyword}{namespace }hryky
00019 \{
00020 \textcolor{keyword}{namespace }reduction
00021 \{
00023     \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
00024     \textcolor{keyword}{class }Stream;
00025 
00026 \} \textcolor{comment}{// namespace reduction}
00027 \} \textcolor{comment}{// namespace hryky}
00028 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00029 \textcolor{comment}{// class declarations}
00030 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00034 \textcolor{comment}{}\textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
\hypertarget{reduction__stream_8h_source_l00035}{}\hyperlink{classhryky_1_1reduction_1_1_stream}{00035} \textcolor{keyword}{class }\hyperlink{classhryky_1_1reduction_1_1_stream}{hryky::reduction::Stream}
00036     : \textcolor{keyword}{public} \hyperlink{classhryky_1_1reduction_1_1_dispatcher}{hryky::reduction::Dispatcher}
00037 \{
00038 \textcolor{keyword}{public} :
00039 
00040     \textcolor{keyword}{typedef} \hyperlink{classhryky_1_1reduction_1_1_dispatcher}{reduction::Dispatcher} \hyperlink{classhryky_1_1reduction_1_1_dispatcher}{base_type};
\hypertarget{reduction__stream_8h_source_l00041}{}\hyperlink{classhryky_1_1reduction_1_1_stream_a714a0ce48465fdee8152b02787cc49a8}{00041}     \textcolor{keyword}{typedef} \hyperlink{classhryky_1_1reduction_1_1_stream}{Stream<StreamT>} \hyperlink{classhryky_1_1reduction_1_1_stream_a714a0ce48465fdee8152b02787cc49a8}{this_type};
00042 
00044     \hyperlink{classhryky_1_1reduction_1_1_stream}{Stream}(StreamT & stream);
00045 
00047     \hyperlink{classhryky_1_1reduction_1_1_stream}{Stream}(\hyperlink{classhryky_1_1reduction_1_1_dispatcher}{this_type} \textcolor{keyword}{const} &);
00048 
00050     \hyperlink{classhryky_1_1reduction_1_1_stream}{Stream}(\hyperlink{classhryky_1_1reduction_1_1_dispatcher}{this_type} && rhs);
00051 
00053     \textcolor{keyword}{virtual} \hyperlink{classhryky_1_1reduction_1_1_stream_a868cb56653b1cfee77a157a2ea7fe783}{~Stream}();
00054 
\hypertarget{reduction__stream_8h_source_l00056}{}\hyperlink{classhryky_1_1reduction_1_1_stream_ad2abb48059b135cae9e8f5fe87138a2a}{00056}     \hyperlink{classhryky_1_1reduction_1_1_stream_ad2abb48059b135cae9e8f5fe87138a2a}{hryky_assign_op};
00057 
00059     \textcolor{keywordtype}{void} \hyperlink{classhryky_1_1reduction_1_1_stream_a48136f4eabcf48e03b9dfe2cba793883}{clear}();
00060 
00062     \hyperlink{classhryky_1_1_intrusive_ptr}{reduction_type} \hyperlink{classhryky_1_1reduction_1_1_stream_aa60cb1c7a7dc1fb1bc3ab6e57cfa8e34}{reduce}(\hyperlink{classhryky_1_1reduction_1_1_string}{reduction::name_type} \textcolor{keyword}{const} & name) \textcolor{keyword}{const};
00063 
00065     \textcolor{keywordtype}{void} \hyperlink{classhryky_1_1reduction_1_1_stream_a1149a619a2f584d1ae737010aefb54ca}{swap}(\hyperlink{classhryky_1_1reduction_1_1_dispatcher}{this_type} & src);
00066 
00067 \textcolor{keyword}{protected} :
00068 
00070     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1reduction_1_1_stream_af94ad7305cc5e232aff63689f98f5b98}{operator()}(\hyperlink{classhryky_1_1reduction_1_1_int}{reduction::Int} \textcolor{keyword}{const} & value);
00071 
00075     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1reduction_1_1_stream_af94ad7305cc5e232aff63689f98f5b98}{operator()}(\hyperlink{classhryky_1_1reduction_1_1_uint}{reduction::Uint} \textcolor{keyword}{const} & value);
00076 
00078     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1reduction_1_1_stream_af94ad7305cc5e232aff63689f98f5b98}{operator()}(\hyperlink{classhryky_1_1reduction_1_1_bool}{reduction::Bool} \textcolor{keyword}{const} & value);
00079 
00081     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1reduction_1_1_stream_af94ad7305cc5e232aff63689f98f5b98}{operator()}(\hyperlink{classhryky_1_1reduction_1_1_string}{reduction::String} \textcolor{keyword}{const} & value);
00082 
00084     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1reduction_1_1_stream_af94ad7305cc5e232aff63689f98f5b98}{operator()}(\hyperlink{classhryky_1_1reduction_1_1_float}{reduction::Float} \textcolor{keyword}{const} & value);
00085 
00087     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1reduction_1_1_stream_af94ad7305cc5e232aff63689f98f5b98}{operator()}(\hyperlink{classhryky_1_1reduction_1_1_array}{reduction::Array} \textcolor{keyword}{const} & value);
00088 
00093     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1reduction_1_1_stream_af94ad7305cc5e232aff63689f98f5b98}{operator()}(\hyperlink{classhryky_1_1reduction_1_1_map}{reduction::Map} \textcolor{keyword}{const} & value);
00094 
00096     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1reduction_1_1_stream_af94ad7305cc5e232aff63689f98f5b98}{operator()}(\hyperlink{classhryky_1_1reduction_1_1_address}{reduction::Address} \textcolor{keyword}{const} & value);
00097 
00099     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1reduction_1_1_stream_af94ad7305cc5e232aff63689f98f5b98}{operator()}(\hyperlink{classhryky_1_1reduction_1_1_char}{reduction::Char} \textcolor{keyword}{const} & value);
00100 
00101 \textcolor{keyword}{private} :
00102 
00104     \hyperlink{classhryky_1_1reduction_1_1_stream}{Stream}();
00105 
00107     \textcolor{keywordtype}{void} write\_name(\hyperlink{classhryky_1_1reduction_1_1_base}{reduction::Base} \textcolor{keyword}{const} & value);
00108 
00110     \textcolor{keyword}{template} < \textcolor{keyword}{typename} ArrayT >
00111     \textcolor{keywordtype}{bool} write\_array(
00112         ArrayT \textcolor{keyword}{const} & \hyperlink{namespacehryky_1_1reduction_a9d45a4dc1ea9a6668ebd192f296f788c}{array},
00113         \hyperlink{classhryky_1_1_literal_string}{LiteralString} \textcolor{keyword}{const} & opening,
00114         \hyperlink{classhryky_1_1_literal_string}{LiteralString} \textcolor{keyword}{const} & closing);
00115 
00117     \textcolor{keyword}{template} <\textcolor{keyword}{typename} ValueT>
00118     \textcolor{keywordtype}{bool} write\_value(ValueT \textcolor{keyword}{const} & value);
00119 
00120     StreamT &       stream\_;
00121     \hyperlink{classhryky_1_1_indent}{Indent}          indent\_;
00122 
00123 \};
00124 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00125 \textcolor{comment}{// class specializations}
00126 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00127 \textcolor{keyword}{namespace }hryky
00128 \{
00129 \textcolor{keyword}{namespace }reduction
00130 \{
00131 \} \textcolor{comment}{// namespace reduction}
00132 \} \textcolor{comment}{// namespace hryky}
00133 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00134 \textcolor{comment}{// public member functions}
00135 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00139 \textcolor{comment}{}\textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
\hypertarget{reduction__stream_8h_source_l00140}{}\hyperlink{classhryky_1_1reduction_1_1_stream_aab5b1cf873b56b2d0d978a672cdc4f60}{00140} \hyperlink{classhryky_1_1reduction_1_1_stream}{hryky::reduction::Stream<StreamT>::Stream}(StreamT & stream)
00141     : \hyperlink{classhryky_1_1reduction_1_1_dispatcher}{base_type}()
00142       , stream\_(stream)
00143       , indent\_()
00144 \{
00145 \}
00149 \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
\hypertarget{reduction__stream_8h_source_l00150}{}\hyperlink{classhryky_1_1reduction_1_1_stream_adf137cae6c9a457bf62cdd16b380ae4e}{00150} \hyperlink{classhryky_1_1reduction_1_1_stream}{hryky::reduction::Stream<StreamT>::Stream}(\hyperlink{classhryky_1_1reduction_1_1_dispatcher}{this_type} \textcolor{keyword}{const} & rhs)
00151     : \hyperlink{classhryky_1_1reduction_1_1_dispatcher}{base_type}(rhs)
00152       , hryky\_copy\_member(stream)
00153       , hryky\_copy\_member(indent)
00154 \{
00155 \}
00159 \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
\hypertarget{reduction__stream_8h_source_l00160}{}\hyperlink{classhryky_1_1reduction_1_1_stream_aa7e38fe1e80a40307e1cd5553c6132b3}{00160} \hyperlink{classhryky_1_1reduction_1_1_stream}{hryky::reduction::Stream<StreamT>::Stream}(\hyperlink{classhryky_1_1reduction_1_1_dispatcher}{this_type} && rhs)
00161     : \hyperlink{classhryky_1_1reduction_1_1_dispatcher}{base_type}(std::move(rhs))
00162       , hryky\_rvalue\_init(stream)
00163       , hryky\_rvalue\_init(indent)
00164 \{
00165 \}
00169 \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
\hypertarget{reduction__stream_8h_source_l00170}{}\hyperlink{classhryky_1_1reduction_1_1_stream_a868cb56653b1cfee77a157a2ea7fe783}{00170} \hyperlink{classhryky_1_1reduction_1_1_stream}{hryky::reduction::Stream<StreamT>::~Stream}()
00171 \{
00172 \}
00176 \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
\hypertarget{reduction__stream_8h_source_l00177}{}\hyperlink{classhryky_1_1reduction_1_1_stream_a48136f4eabcf48e03b9dfe2cba793883}{00177} \textcolor{keywordtype}{void} \hyperlink{namespacehryky_aa201297ea9530da954a7230be71cc19d}{hryky::reduction::Stream<StreamT>::clear}()
00178 \{
00179     this->indent\_.clear();
00180     this->\hyperlink{namespacehryky_aa201297ea9530da954a7230be71cc19d}{base_type::clear}();
00181 \}
00185 \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
\hypertarget{reduction__stream_8h_source_l00186}{}\hyperlink{classhryky_1_1reduction_1_1_stream_aa60cb1c7a7dc1fb1bc3ab6e57cfa8e34}{00186} \hyperlink{classhryky_1_1_intrusive_ptr}{hryky::reduction_type} \hyperlink{namespacehryky_1_1reduction_a064022926c530d18aeb1b2abdf71800b}{hryky::reduction::Stream<StreamT>::reduce}(
00187     \hyperlink{classhryky_1_1reduction_1_1_string}{reduction::name_type} \textcolor{keyword}{const} & name)\textcolor{keyword}{ const}
00188 \textcolor{keyword}{}\{
00189     \hyperlink{classhryky_1_1_intrusive_ptr}{reduction::map_type} \hyperlink{namespacehryky_1_1reduction_ac5eae270cf8047b294dc4ff3e5e11a79}{map} = \hyperlink{namespacehryky_1_1reduction_ac5eae270cf8047b294dc4ff3e5e11a79}{reduction::map}(name);
00190     ((*map)
00191      .append(\textcolor{stringliteral}{"indent"}, this->indent\_)
00192      .append(\textcolor{stringliteral}{"base"}, *static\_cast<base\_type const *>(\textcolor{keyword}{this}))
00193      );
00194     \textcolor{keywordflow}{return} \hyperlink{namespacehryky_1_1reduction_ac5eae270cf8047b294dc4ff3e5e11a79}{map};
00195 \}
00199 \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
\hypertarget{reduction__stream_8h_source_l00200}{}\hyperlink{classhryky_1_1reduction_1_1_stream_a1149a619a2f584d1ae737010aefb54ca}{00200} \textcolor{keywordtype}{void} \hyperlink{namespacehryky_1_1reduction_a493c83efdf5f9e9c49ba77e1b65325a1}{hryky::reduction::Stream<StreamT>::swap}(\hyperlink{classhryky_1_1reduction_1_1_dispatcher}{this_type} & src)
00201 \{
00202     this->\hyperlink{namespacehryky_1_1reduction_a493c83efdf5f9e9c49ba77e1b65325a1}{base_type::swap}(src);
00203     hryky\_swap\_member(stream);
00204     hryky\_swap\_member(indent);
00205 \}
00206 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00207 \textcolor{comment}{// protected member functions}
00208 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00212 \textcolor{comment}{}\textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
\hypertarget{reduction__stream_8h_source_l00213}{}\hyperlink{classhryky_1_1reduction_1_1_stream_af94ad7305cc5e232aff63689f98f5b98}{00213} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1reduction_1_1_stream}{hryky::reduction::Stream<StreamT>::operator()}(\hyperlink{classhryky_1_1reduction_1_1_int}{reduction::Int} \textcolor{keyword}{const} & value
      )
00214 \{
00215     \textcolor{keywordflow}{return} this->write\_value(value);
00216 \}
00220 \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
\hypertarget{reduction__stream_8h_source_l00221}{}\hyperlink{classhryky_1_1reduction_1_1_stream_a85c5361f5dd26d12703bcaaf49d70669}{00221} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1reduction_1_1_stream}{hryky::reduction::Stream<StreamT>::operator()}(\hyperlink{classhryky_1_1reduction_1_1_uint}{reduction::Uint} \textcolor{keyword}{const} & 
      value)
00222 \{
00223     \textcolor{keywordflow}{return} this->write\_value(value);
00224 \}
00228 \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
\hypertarget{reduction__stream_8h_source_l00229}{}\hyperlink{classhryky_1_1reduction_1_1_stream_af34bc9677442da4751a758af377b2a66}{00229} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1reduction_1_1_stream}{hryky::reduction::Stream<StreamT>::operator()}(\hyperlink{classhryky_1_1reduction_1_1_bool}{reduction::Bool} \textcolor{keyword}{const} & 
      value)
00230 \{
00231     this->stream\_ << this->indent\_;
00232 
00233     this->write\_name(value);
00234 
00235     this->stream\_ << std::boolalpha << value.\hyperlink{classhryky_1_1reduction_1_1_bool_adc9dc3d2690f737eace344341033c6ce}{value}();
00236 
00237     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00238 \}
00242 \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
\hypertarget{reduction__stream_8h_source_l00243}{}\hyperlink{classhryky_1_1reduction_1_1_stream_a38aa345324ef7f0e1c0aab7bb38915b1}{00243} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1reduction_1_1_stream}{hryky::reduction::Stream<StreamT>::operator()}(\hyperlink{classhryky_1_1reduction_1_1_string}{reduction::String} \textcolor{keyword}{const} & 
      value)
00244 \{
00245     \textcolor{keywordflow}{return} this->write\_value(value);
00246 \}
00250 \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
\hypertarget{reduction__stream_8h_source_l00251}{}\hyperlink{classhryky_1_1reduction_1_1_stream_ae44e119022d635cd54049729e29ba770}{00251} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1reduction_1_1_stream}{hryky::reduction::Stream<StreamT>::operator()}(\hyperlink{classhryky_1_1reduction_1_1_float}{reduction::Float} \textcolor{keyword}{const} & 
      value)
00252 \{
00253     \textcolor{keywordflow}{return} this->write\_value(value);
00254 \}
00258 \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
\hypertarget{reduction__stream_8h_source_l00259}{}\hyperlink{classhryky_1_1reduction_1_1_stream_a598f5d80a4e694f96b73a99270d6ede7}{00259} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1reduction_1_1_stream}{hryky::reduction::Stream<StreamT>::operator()}(\hyperlink{classhryky_1_1reduction_1_1_array}{reduction::Array} \textcolor{keyword}{const} & 
      value)
00260 \{
00261     \textcolor{keywordflow}{return} this->write\_array(value, \hyperlink{classhryky_1_1_literal_string}{LiteralString}(\textcolor{stringliteral}{"["}), \hyperlink{classhryky_1_1_literal_string}{LiteralString}(\textcolor{stringliteral}{"]"}));
00262 \}
00267 \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
\hypertarget{reduction__stream_8h_source_l00268}{}\hyperlink{classhryky_1_1reduction_1_1_stream_a61e65ade4befc36dd0119ea6c16d1f3c}{00268} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1reduction_1_1_stream}{hryky::reduction::Stream<StreamT>::operator()}(\hyperlink{classhryky_1_1reduction_1_1_map}{reduction::Map} \textcolor{keyword}{const} & value
      )
00269 \{
00270     \textcolor{keywordflow}{return} this->write\_array(value, \hyperlink{classhryky_1_1_literal_string}{LiteralString}(\textcolor{stringliteral}{"\{"}), \hyperlink{classhryky_1_1_literal_string}{LiteralString}(\textcolor{stringliteral}{"\}"}));
00271 \}
00275 \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
\hypertarget{reduction__stream_8h_source_l00276}{}\hyperlink{classhryky_1_1reduction_1_1_stream_a278377a56ed28a05e782cb4612f5e6e0}{00276} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1reduction_1_1_stream}{hryky::reduction::Stream<StreamT>::operator()}(\hyperlink{classhryky_1_1reduction_1_1_address}{reduction::Address} \textcolor{keyword}{const} & 
      value)
00277 \{
00278     \textcolor{keywordflow}{return} this->write\_value(value);
00279 \}
00283 \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
\hypertarget{reduction__stream_8h_source_l00284}{}\hyperlink{classhryky_1_1reduction_1_1_stream_a58305f4a500836101b55410729ca82a1}{00284} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1reduction_1_1_stream}{hryky::reduction::Stream<StreamT>::operator()}(\hyperlink{classhryky_1_1reduction_1_1_char}{reduction::Char} \textcolor{keyword}{const} & 
      value)
00285 \{
00286     \textcolor{keywordflow}{return} this->write\_value(value);
00287 \}
00288 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00289 \textcolor{comment}{// private member functions}
00290 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00294 \textcolor{comment}{}\textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
00295 \textcolor{keywordtype}{void} \hyperlink{classhryky_1_1reduction_1_1_stream}{hryky::reduction::Stream<StreamT>::write_name}(\hyperlink{classhryky_1_1reduction_1_1_base}{reduction::Base} \textcolor{keyword}{const} & 
      value)
00296 \{
00297     \hyperlink{classhryky_1_1reduction_1_1_string}{reduction::name_type} \textcolor{keyword}{const} & name = value.\hyperlink{classhryky_1_1reduction_1_1_base_a842569265d741905eb8a353d3935f1d1}{name}();
00298     \textcolor{keywordflow}{if} (name.empty()) \{
00299         \textcolor{keywordflow}{return};
00300     \}
00301 
00302     this->stream\_ << name << \textcolor{stringliteral}{": "};
00303 \}
00307 \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
00308 \textcolor{keyword}{template} < \textcolor{keyword}{typename} ArrayT >
00309 \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1reduction_1_1_stream}{hryky::reduction::Stream<StreamT>::write_array}(
00310     ArrayT \textcolor{keyword}{const} & \hyperlink{namespacehryky_1_1reduction_a9d45a4dc1ea9a6668ebd192f296f788c}{array}, LiteralString \textcolor{keyword}{const} & opening, LiteralString \textcolor{keyword}{const} & 
      closing)
00311 \{
00312     this->stream\_ << this->indent\_;
00313 
00314     this->write\_name(array);
00315 
00316     this->stream\_ << opening;
00317 
00318     LiteralString \textcolor{keyword}{const} newline(\textcolor{stringliteral}{"\(\backslash\)n"});
00319 
00320     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} ArrayT::children\_type \textcolor{keyword}{const} container\_type;
00321     container\_type \textcolor{keyword}{const} & children = array.children();
00322 
00323     \textcolor{keywordflow}{if} (!children.empty()) \{
00324         Indent::Increment \textcolor{keyword}{const} increment(this->indent\_);
00325 
00326         Foreach<container\_type> \textcolor{keywordflow}{foreach}(children);
00327 
00328         this->stream\_ << newline;
00329         \textcolor{keywordflow}{if} (!(*foreach)->dispatch(*\textcolor{keyword}{this})) \{
00330             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00331         \}
00332         ++\textcolor{keywordflow}{foreach};
00333 
00334         LiteralString \textcolor{keyword}{const} separator(\textcolor{stringliteral}{","});
00335 
00336         \textcolor{keywordflow}{for} (; \textcolor{keywordflow}{foreach}.valid(); ++\textcolor{keywordflow}{foreach}) \{
00337             this->stream\_ << separator << newline;
00338             \textcolor{keywordflow}{if} (!(*foreach)->dispatch(*\textcolor{keyword}{this})) \{
00339                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00340             \}
00341         \}
00342     \}
00343 
00344     this->stream\_ << newline << this->indent\_ << closing;
00345     
00346     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00347 \}
00351 \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
00352 \textcolor{keyword}{template} <\textcolor{keyword}{typename} ValueT>
00353 \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1reduction_1_1_stream}{hryky::reduction::Stream<StreamT>::write_value}(ValueT \textcolor{keyword}{const} & value)
00354 \{
00355     this->stream\_ << this->indent\_;
00356     this->write\_name(value);
00357     this->stream\_ << value.value();
00358     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00359 \}
00360 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00361 \textcolor{comment}{// global function prototypes}
00362 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00363 \textcolor{keyword}{namespace }hryky
00364 \{
00365 \textcolor{keyword}{namespace }reduction
00366 \{
00368     \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
00369     \hyperlink{namespacehryky_a343a9a4c36a586be5c2693156200eadc}{reduction_type} \hyperlink{namespacehryky_1_1reduction_a064022926c530d18aeb1b2abdf71800b}{reduce}(
00370         \hyperlink{namespacehryky_1_1reduction_ac686c30a4c8d196bbd0f05629a6b921f}{reduction::name_type} \textcolor{keyword}{const} & name, Stream<StreamT> \textcolor{keyword}{const} & src);
00371 
00373     \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
00374     \textcolor{keywordtype}{void} \hyperlink{namespacehryky_1_1reduction_a493c83efdf5f9e9c49ba77e1b65325a1}{swap}(
00375         Stream<StreamT> & lhs, Stream<StreamT> & rhs);
00376 
00377 \} \textcolor{comment}{// namespace reduction}
00378 \} \textcolor{comment}{// namespace hryky}
00379 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00380 \textcolor{comment}{// global function definitions}
00381 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00385 \textcolor{comment}{}\textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
\hypertarget{reduction__stream_8h_source_l00386}{}\hyperlink{namespacehryky_1_1reduction_ad257dda0d3de13b9f3fd08351883d3a4}{00386} \hyperlink{classhryky_1_1_intrusive_ptr}{hryky::reduction_type} \hyperlink{namespacehryky_1_1reduction_a064022926c530d18aeb1b2abdf71800b}{hryky::reduction::reduce}(
00387     \hyperlink{classhryky_1_1reduction_1_1_string}{reduction::name_type} \textcolor{keyword}{const} & name, \hyperlink{classhryky_1_1reduction_1_1_stream}{Stream<StreamT>} \textcolor{keyword}{const} & src)
00388 \{
00389     \textcolor{keywordflow}{return} src.\hyperlink{classhryky_1_1reduction_1_1_stream_aa60cb1c7a7dc1fb1bc3ab6e57cfa8e34}{reduce}(name);
00390 \}
00394 \textcolor{keyword}{template} <\textcolor{keyword}{typename} StreamT>
\hypertarget{reduction__stream_8h_source_l00395}{}\hyperlink{namespacehryky_1_1reduction_a5c6f7d8075bd118cb0ae0b595748f8a1}{00395} \textcolor{keywordtype}{void} \hyperlink{namespacehryky_1_1reduction_a493c83efdf5f9e9c49ba77e1b65325a1}{hryky::reduction::swap}(\hyperlink{classhryky_1_1reduction_1_1_stream}{Stream<StreamT>} & lhs, \hyperlink{classhryky_1_1reduction_1_1_stream}{Stream<StreamT>} & rhs)
00396 \{
00397     lhs.\hyperlink{classhryky_1_1reduction_1_1_stream_a1149a619a2f584d1ae737010aefb54ca}{swap}(rhs);
00398 \}
00399 \textcolor{preprocessor}{#endif // REDUCTION\_STREAM\_H\_20130204143207272}
00400 \textcolor{preprocessor}{}\textcolor{comment}{// end of file}
\end{DoxyCode}
