\hypertarget{memory__heap__lock_8h_source}{\section{memory\-\_\-heap\-\_\-lock.\-h}
}

\begin{DoxyCode}
00001 
00007 \textcolor{preprocessor}{#ifndef MEMORY\_HEAP\_LOCK\_H\_20120317184727449}
00008 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define MEMORY\_HEAP\_LOCK\_H\_20120317184727449}
00009 \textcolor{preprocessor}{}\textcolor{preprocessor}{#include "\hyperlink{exclusion__lock_8h}{hryky/exclusion/exclusion_lock.h}"}
00010 \textcolor{preprocessor}{#include "\hyperlink{exclusion__recursive__mutex_8h}{hryky/exclusion/exclusion_recursive_mutex.h}"}
00011 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00012 \textcolor{comment}{// macro definition}
00013 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00014 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00015 \textcolor{comment}{// namespace}
00016 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00017 \textcolor{keyword}{namespace }hryky
00018 \{
00019 \textcolor{keyword}{namespace }memory
00020 \{
00021 \textcolor{keyword}{namespace }\hyperlink{namespacehryky_1_1memory_1_1global_a6fc6103f67c837aa0f39b359588409cd}{heap}
00022 \{
00024     \textcolor{keyword}{template} < \textcolor{keyword}{typename} LockedT, \textcolor{keyword}{typename} LockableT >
00025     \textcolor{keyword}{class }Lock;
00026 \}
00027 \}
00028 \}
00029 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00030 \textcolor{comment}{// class declarations}
00031 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00035 \textcolor{comment}{}\textcolor{keyword}{template} < \textcolor{keyword}{typename} LockedT, \textcolor{keyword}{typename} LockableT = exclusion::RecursiveMutex >
\hypertarget{memory__heap__lock_8h_source_l00036}{}\hyperlink{classhryky_1_1memory_1_1heap_1_1_lock}{00036} \textcolor{keyword}{class }\hyperlink{classhryky_1_1memory_1_1heap_1_1_lock}{hryky::memory::heap::Lock}
00037 \{
00038 \textcolor{keyword}{public} :
00039 
\hypertarget{memory__heap__lock_8h_source_l00040}{}\hyperlink{classhryky_1_1memory_1_1heap_1_1_lock_a4642d966c65ca6effb49a3db58426449}{00040}     \textcolor{keyword}{typedef} \hyperlink{classhryky_1_1memory_1_1heap_1_1_lock}{Lock<LockedT, LockableT>}        \hyperlink{classhryky_1_1memory_1_1heap_1_1_lock_a4642d966c65ca6effb49a3db58426449}{this_type};
00041     \textcolor{keyword}{typedef} LockedT                         value\_type;
00042     \textcolor{keyword}{typedef} LockedT &                       reference;
00043 
00045     \hyperlink{classhryky_1_1memory_1_1heap_1_1_lock_aea44137ee10e27ac7ff10e3752571117}{Lock}(reference locked);
00046 
00048     \textcolor{keywordtype}{void} * \hyperlink{classhryky_1_1memory_1_1heap_1_1_lock_a5c1c6735480076daff287d98769b9735}{allocate}(\textcolor{keywordtype}{size\_t} \textcolor{keyword}{const} size);
00049 
00051     \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1memory_1_1heap_1_1_lock_a221ea34d7afea6045f84df3b1fa77b24}{deallocate}(\textcolor{keywordtype}{void} * \textcolor{keyword}{const} address);
00052 
00054     \textcolor{keywordtype}{size\_t} \hyperlink{classhryky_1_1memory_1_1heap_1_1_lock_a469a43b261f5b0dc3ce2a78c7df31e2b}{allocatable_size}() \textcolor{keyword}{const};
00055 
00056 \textcolor{keyword}{private} :
00057     \textcolor{keyword}{typedef} LockableT                       \hyperlink{classhryky_1_1exclusion_1_1_recursive_mutex}{lockable_type};
00058     \textcolor{keyword}{typedef} \hyperlink{classhryky_1_1exclusion_1_1_lock}{exclusion::Lock<lockable_type>}  \hyperlink{classhryky_1_1exclusion_1_1_lock}{lock_type};
00059 
00060     \textcolor{keyword}{mutable} \hyperlink{classhryky_1_1exclusion_1_1_recursive_mutex}{lockable_type}   lockable\_;
00061     LockedT &               locked\_;
00062 
00063 \};
00064 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00065 \textcolor{comment}{// class specializations}
00066 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00067 \textcolor{keyword}{namespace }hryky
00068 \{
00069 \textcolor{keyword}{namespace }memory
00070 \{
00071 \textcolor{keyword}{namespace }\hyperlink{namespacehryky_1_1memory_1_1global_a6fc6103f67c837aa0f39b359588409cd}{heap}
00072 \{
00073 \}
00074 \}
00075 \}
00076 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00077 \textcolor{comment}{// public member functions}
00078 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00082 \textcolor{comment}{}\textcolor{keyword}{template} < \textcolor{keyword}{typename} LockedT, \textcolor{keyword}{typename} LockableT >
\hypertarget{memory__heap__lock_8h_source_l00083}{}\hyperlink{classhryky_1_1memory_1_1heap_1_1_lock_aea44137ee10e27ac7ff10e3752571117}{00083} \hyperlink{classhryky_1_1memory_1_1heap_1_1_lock_aea44137ee10e27ac7ff10e3752571117}{hryky::memory::heap::Lock<LockedT, LockableT>::Lock}(reference locked)
00084     : lockable\_(), locked\_(locked)
00085 \{
00086     \textcolor{keywordflow}{return};
00087 \}
00091 \textcolor{keyword}{template} < \textcolor{keyword}{typename} LockedT, \textcolor{keyword}{typename} LockableT >
\hypertarget{memory__heap__lock_8h_source_l00092}{}\hyperlink{classhryky_1_1memory_1_1heap_1_1_lock_a5c1c6735480076daff287d98769b9735}{00092} \textcolor{keywordtype}{void} * \hyperlink{classhryky_1_1memory_1_1heap_1_1_lock}{hryky::memory::heap::Lock<LockedT, LockableT>::allocate}(\textcolor{keywordtype}{size\_t} \textcolor{keyword}{const} 
      size)
00093 \{
00094     \hyperlink{classhryky_1_1exclusion_1_1_lock}{lock_type} \textcolor{keyword}{const} lock(this->lockable\_);
00095     
00096     \textcolor{keywordflow}{return} this->locked\_.allocate(size);
00097 \}
00101 \textcolor{keyword}{template} < \textcolor{keyword}{typename} LockedT, \textcolor{keyword}{typename} LockableT >
\hypertarget{memory__heap__lock_8h_source_l00102}{}\hyperlink{classhryky_1_1memory_1_1heap_1_1_lock_a221ea34d7afea6045f84df3b1fa77b24}{00102} \textcolor{keywordtype}{bool} \hyperlink{classhryky_1_1memory_1_1heap_1_1_lock}{hryky::memory::heap::Lock<LockedT, LockableT>::deallocate}(\textcolor{keywordtype}{void} * \textcolor{keyword}{const} 
      address)
00103 \{
00104     \hyperlink{classhryky_1_1exclusion_1_1_lock}{lock_type} \textcolor{keyword}{const} lock(this->lockable\_);
00105     
00106     \textcolor{keywordflow}{return} this->locked\_.deallocate(address);
00107 \}
00111 \textcolor{keyword}{template} < \textcolor{keyword}{typename} LockedT, \textcolor{keyword}{typename} LockableT >
\hypertarget{memory__heap__lock_8h_source_l00112}{}\hyperlink{classhryky_1_1memory_1_1heap_1_1_lock_a469a43b261f5b0dc3ce2a78c7df31e2b}{00112} \textcolor{keywordtype}{size\_t} \hyperlink{classhryky_1_1memory_1_1heap_1_1_lock}{hryky::memory::heap::Lock<LockedT, LockableT>::allocatable_size}()\textcolor{keyword}{ const}
00113 \textcolor{keyword}{}\{
00114     \hyperlink{classhryky_1_1exclusion_1_1_lock}{lock_type} \textcolor{keyword}{const} lock(this->lockable\_);
00115     
00116     \textcolor{keywordflow}{return} this->locked\_.allocatable\_size();
00117 \}
00118 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00119 \textcolor{comment}{// protected member functions}
00120 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00121 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00122 \textcolor{comment}{// private member functions}
00123 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00124 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00125 \textcolor{comment}{// global function prototypes}
00126 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00127 \textcolor{keyword}{namespace }hryky
00128 \{
00129 \textcolor{keyword}{namespace }memory
00130 \{
00131 \textcolor{keyword}{namespace }\hyperlink{namespacehryky_1_1memory_1_1global_a6fc6103f67c837aa0f39b359588409cd}{heap}
00132 \{
00133 \}
00134 \}
00135 \}
00136 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00137 \textcolor{comment}{// global function definitions}
00138 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00139 \textcolor{preprocessor}{#endif // MEMORY\_HEAP\_LOCK\_H\_20120317184727449}
00140 \textcolor{preprocessor}{}\textcolor{comment}{// end of file}
\end{DoxyCode}
