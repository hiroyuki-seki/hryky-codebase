\hypertarget{exclusion__mutex_8h_source}{\section{exclusion\-\_\-mutex.\-h}
}

\begin{DoxyCode}
00001 
00009 \textcolor{preprocessor}{#ifndef EXCLUSION\_MUTEX\_H\_20120414013909735}
00010 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define EXCLUSION\_MUTEX\_H\_20120414013909735}
00011 \textcolor{preprocessor}{}\textcolor{preprocessor}{#if HRYKY\_USE\_BOOST\_EXCLUSION}
00012 \textcolor{preprocessor}{}\textcolor{preprocessor}{#   include <boost/thread.hpp>}
00013 \textcolor{preprocessor}{#else}
00014 \textcolor{preprocessor}{}\textcolor{preprocessor}{#   include <mutex>}
00015 \textcolor{preprocessor}{#endif}
00016 \textcolor{preprocessor}{}\textcolor{comment}{//
      ------------------------------------------------------------------------------}
00017 \textcolor{comment}{// macro definition}
00018 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00019 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00020 \textcolor{comment}{// namespace}
00021 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00022 \textcolor{keyword}{namespace }hryky
00023 \{
00024 \textcolor{keyword}{namespace }exclusion
00025 \{
00027     \textcolor{keyword}{class }Mutex;
00028 
00029     \textcolor{keyword}{template} < \textcolor{keyword}{typename} LockableT >
00030     \textcolor{keyword}{class }WaitableLock;
00031 
00032 \}
00033 \}
00034 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00035 \textcolor{comment}{// class declarations}
00036 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
\hypertarget{exclusion__mutex_8h_source_l00040}{}\hyperlink{classhryky_1_1exclusion_1_1_mutex}{00040} \textcolor{comment}{}\textcolor{keyword}{class }\hyperlink{classhryky_1_1exclusion_1_1_mutex}{hryky::exclusion::Mutex}
00041 \{
00042 \textcolor{keyword}{public} :
00043 
\hypertarget{exclusion__mutex_8h_source_l00044}{}\hyperlink{classhryky_1_1exclusion_1_1_mutex_adabc1c45a533006a1d21b671207415ad}{00044}     \textcolor{keyword}{typedef} \hyperlink{classhryky_1_1exclusion_1_1_mutex}{Mutex}           \hyperlink{classhryky_1_1exclusion_1_1_mutex_adabc1c45a533006a1d21b671207415ad}{this_type};
00045 
00046 \textcolor{preprocessor}{#if HRYKY\_USE\_BOOST\_EXCLUSION}
00047 \textcolor{preprocessor}{}    \textcolor{keyword}{typedef} boost::mutex    raw\_type;
00048 \textcolor{preprocessor}{#else}
00049 \textcolor{preprocessor}{}    \textcolor{keyword}{typedef} std::mutex      raw\_type;
00050 \textcolor{preprocessor}{#endif}
00051 \textcolor{preprocessor}{}
\hypertarget{exclusion__mutex_8h_source_l00053}{}\hyperlink{classhryky_1_1exclusion_1_1_mutex_1_1_raw}{00053}     \textcolor{keyword}{class }\hyperlink{classhryky_1_1exclusion_1_1_mutex_1_1_raw}{Raw}
00054     \{
\hypertarget{exclusion__mutex_8h_source_l00056}{}\hyperlink{classhryky_1_1exclusion_1_1_mutex_1_1_raw_adf91eea431cc875373b8a697c1b9b577}{00056}         \textcolor{keyword}{friend} \textcolor{keyword}{class }\hyperlink{classhryky_1_1exclusion_1_1_waitable_lock}{WaitableLock}<\hyperlink{classhryky_1_1exclusion_1_1_mutex}{Mutex}>;
00057         
00058         \hyperlink{classhryky_1_1exclusion_1_1_mutex_1_1_raw}{Raw}(\hyperlink{classhryky_1_1exclusion_1_1_mutex}{Mutex} & instance)
00059             : instance\_(instance)
00060         \{\}
00061         
00062         Mutex::raw\_type & operator()()
00063         \{
00064             \textcolor{keywordflow}{return} this->instance\_.raw\_;
00065         \}
00066         
00067         \hyperlink{classhryky_1_1exclusion_1_1_mutex}{Mutex} & instance\_;
00068     \};
00069 
00071     \textcolor{keyword}{explicit} \hyperlink{classhryky_1_1exclusion_1_1_mutex_a63cb7e8e5bae0963b1ab3c2712176635}{Mutex}();
00072 
00074     \textcolor{keywordtype}{void} \hyperlink{classhryky_1_1exclusion_1_1_mutex_a6e730d19ff5246bc17ee2ad9f9ae184e}{lock}();
00075 
00077     \textcolor{keywordtype}{void} \hyperlink{classhryky_1_1exclusion_1_1_mutex_a62db408cfde1885ad96dc20f8ed3850a}{unlock}();
00078 
00079 \textcolor{keyword}{protected} :
00080 
00081 \textcolor{keyword}{private} :
00082 
00084     \textcolor{keyword}{explicit} \hyperlink{classhryky_1_1exclusion_1_1_mutex_a63cb7e8e5bae0963b1ab3c2712176635}{Mutex}(\hyperlink{classhryky_1_1exclusion_1_1_mutex_a63cb7e8e5bae0963b1ab3c2712176635}{Mutex} \textcolor{keyword}{const} &);
00085 
00087     \hyperlink{classhryky_1_1exclusion_1_1_mutex_a63cb7e8e5bae0963b1ab3c2712176635}{Mutex} & operator=(\hyperlink{classhryky_1_1exclusion_1_1_mutex_a63cb7e8e5bae0963b1ab3c2712176635}{Mutex} \textcolor{keyword}{const} & rhs);
00088 
00089     raw\_type    raw\_;
00090 
00091 \};
00092 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00093 \textcolor{comment}{// class specializations}
00094 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00095 \textcolor{keyword}{namespace }hryky
00096 \{
00097 \textcolor{keyword}{namespace }exclusion
00098 \{
00099 \}
00100 \}
00101 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00102 \textcolor{comment}{// public member functions}
00103 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00104 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00105 \textcolor{comment}{// protected member functions}
00106 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00107 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00108 \textcolor{comment}{// private member functions}
00109 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00110 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00111 \textcolor{comment}{// global function prototypes}
00112 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00113 \textcolor{keyword}{namespace }hryky
00114 \{
00115 \textcolor{keyword}{namespace }exclusion
00116 \{
\hypertarget{exclusion__mutex_8h_source_l00118}{}\hyperlink{namespacehryky_1_1exclusion_af3f8d05b34064ca5b0e15ed01d1546c2}{00118}     \textcolor{keyword}{typedef} \hyperlink{classhryky_1_1exclusion_1_1_mutex}{Mutex}                       \hyperlink{namespacehryky_1_1exclusion_af3f8d05b34064ca5b0e15ed01d1546c2}{mutex_type};
00119 
00120 \}
00121 \}
00122 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00123 \textcolor{comment}{// global function definitions}
00124 \textcolor{comment}{//
      ------------------------------------------------------------------------------}
00125 \textcolor{preprocessor}{#endif // EXCLUSION\_MUTEX\_H\_20120414013909735}
00126 \textcolor{preprocessor}{}
00127 \textcolor{comment}{// end of file}
\end{DoxyCode}
